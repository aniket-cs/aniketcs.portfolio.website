import{g as n}from"https://app.framerstatic.com/chunk-EHY3EVAD.mjs";import{t as l}from"https://app.framerstatic.com/chunk-MAIWCQQJ.mjs";var c=l("EngineChanges");var i=class{constructor(){this.changes=new Set;this.addChanges=(...s)=>{for(let e of s)this.changes.add(e)};this.changeObserverFlags=[];this.changeObservers=[];this.inSignalAllObservers=!1;this.observersToRemove=[]}get flags(){return this.changes}has(...s){for(let e of s)if(this.changes.has(e))return!0;return!1}observe(...s){let e=s.pop(),t=s;return n.isDebugBuild&&t.some(r=>r===void 0)&&c.warn("changes.observe was called with undefined as one of the flags. It might be caused by observing a store that hasn't been instantiated yet."),this.changeObserverFlags.push(t),this.changeObservers.push(e),e}observeWithComponent(s,e,t){this.changeObserverFlags.push(s);let r=()=>{n.benchmarkSkipRendering||e.setState(t())};return this.changeObservers.push(r),r}removeObserver(s){if(this.inSignalAllObservers){this.observersToRemove.push(s);return}let e=this.changeObservers.indexOf(s);e!==-1&&(this.changeObserverFlags.splice(e,1),this.changeObservers.splice(e,1))}signalAllObservers(){if(!this.changes)return;let s=this.changes,e=this.changeObserverFlags,t=this.changeObservers;this.inSignalAllObservers=!0;for(let r=0;r<e.length;r++){let o=e[r];for(let a of o)if(s.has(a)){t[r]();break}}if(this.inSignalAllObservers=!1,this.observersToRemove.length>0){for(let r of this.observersToRemove)this.removeObserver(r);this.observersToRemove.length=0}this.changes.clear()}signalObserversFor(...s){let e=new Set(s),t=this.changeObserverFlags,r=this.changeObservers;for(let o=0;o<t.length;o++){let a=t[o];for(let v of a)if(e.has(v)){r[o]();break}}e.forEach(o=>this.changes.delete(o))}};export{i as a};
//# sourceMappingURL=https://app.framerstatic.com/chunk-N5A3CBYX.mjs.map
