import{c as y}from"https://app.framerstatic.com/chunk-7RB3HSQN.mjs";import{t as d}from"https://app.framerstatic.com/chunk-HUEUSRHK.mjs";function T(n,i){if(n.pages>(i.pages??1/0))return"pages";if(n.cmsCollections>(i.cmsCollections??1/0))return"cmsCollections";if(n.locales>(i.maxLocales??1/0))return"locales";if(n.editors>(i.maxEditors??1/0))return"editors";if(n.abTests>(i.abTests??1/0))return"abTests"}var x={pages:"You currently have more pages than this plan allows for.",cmsCollections:"You currently have more CMS collections than this plan allows for.",locales:"You currently have more locales than this plan allows for.",editors:"You currently have more editors in your project than this plan allows for.",abTests:"You currently have more A/B tests in your project than this plan allows for."};function b(n){return x[n]}var U=(t=>(t.fileUploadLimitInMB="fileUploadLimitInMB",t.formSubmissions="formSubmissions",t.pages="pages",t.cmsCollections="cmsCollections",t.localeAddon="localeAddon",t.abTests="abTests",t.canUseDrafts="canUseDrafts",t.canUseEditorPermissions="canUseEditorPermissions",t.canPublishToCustomDomain="canPublishToCustomDomain",t.canInviteEditors="canInviteEditors",t.canUseUTMTracking="canUseUTMTracking",t.canUseRedirects="canUseRedirects",t.canUseCustomCanonicalUrl="canUseCustomCanonicalUrl",t.canUseCustomLocaleRegions="canUseCustomLocaleRegions",t))(U||{});function S(n){return n in U}function M(n,i){return n!==null?{kind:1,licenseType:n}:i!==null?{kind:0,feature:i}:null}function j(n,i,o,r,a){let c=o.filter(({licenseType:e})=>d(e,i));if(n.kind===1)return c.find(({licenseType:e})=>e===n.licenseType)?.licenseType??null;let s=c.filter(({resourceLimits:e,licenseType:u})=>!T(a,e)&&u!=="enterpriseSite");switch(n.feature){case"pages":return s.find(({resourceLimits:e})=>(e.pages??1/0)>(r.pages??1/0))?.licenseType??null;case"fileUploadLimitInMB":return s.find(({resourceLimits:e})=>(e.fileUploadLimitInMB??1/0)>(r.fileUploadLimitInMB??1/0))?.licenseType??null;case"cmsCollections":return s.find(({resourceLimits:e})=>(e.cmsCollections??1/0)>(r.cmsCollections??1/0))?.licenseType??null;case"formSubmissions":return s.find(({resourceLimits:e})=>(e.formSubmissions??1/0)>(r.formSubmissions??1/0))?.licenseType??null;case"canUseDrafts":return s.find(({featureFlags:e})=>e.canUseDrafts==="on")?.licenseType??null;case"canUseEditorPermissions":return s.find(({featureFlags:e})=>e.canUseEditorPermissions==="on")?.licenseType??null;case"canPublishToCustomDomain":return s.find(({featureFlags:e})=>e.canPublishToCustomDomain==="on")?.licenseType??null;case"canInviteEditors":return s.find(({resourceLimits:e})=>(e.maxEditors??1/0)>(r.maxEditors??1/0))?.licenseType??null;case"localeAddon":return s.find(({resourceLimits:e})=>(e.maxLocales??1/0)>(r.maxLocales??1/0))?.licenseType??null;case"canUseUTMTracking":return s.find(({featureFlags:e})=>e.canUseUTMTracking==="on")?.licenseType??null;case"abTests":return s.find(({resourceLimits:e})=>(e.abTests??1/0)>(r.abTests??1/0))?.licenseType??null;case"canUseRedirects":return s.find(({featureFlags:e})=>e.canUseRedirects==="on")?.licenseType??null;case"canUseCustomCanonicalUrl":return s.find(({featureFlags:e})=>e.canUseCustomCanonicalUrl==="upsell")?.licenseType??null;case"canUseCustomLocaleRegions":return s.find(({featureFlags:e})=>e.canUseCustomLocaleRegions==="on")?.licenseType??null}}var L=1e3*1024,g=150*L;function h(n){return n*L}async function D({endpoint:n,fieldName:i,file:o,icon:r,onToast:a,customMaxSize:c,onExceedsCustomMaxSize:s}){let e=`upload${Math.random()}`,u=c?h(c):g;if(o.size>u)return u<g&&s?s(o.size):a({type:"add",key:e,variant:"error",text:`File too large: ${o.name}`,duration:1e4,icon:"error",moveToTop:!0}),null;let p=0,f=95,C=100/f;try{let l=await y(n,{[i]:o},m=>{let t=Math.round(m*f);if(t===p)return;p=t;let I=Math.round(p*C*.95);a({type:"add",key:e,variant:"progress",icon:r,text:`Uploading ${o.name}\u2026 ${I}%`,duration:1/0,showCloseButton:"never"})});return a({type:"add",key:e,variant:"success",text:`${o.name} has been uploaded`,duration:1e4,icon:"success",moveToTop:!0}),l}catch(l){let m=l instanceof Error?l.message:String(l);return a({type:"add",key:e,variant:"error",text:`Error uploading ${o.name}: ${m}`,duration:3e4,icon:"error",moveToTop:!0}),null}}export{T as a,b,S as c,M as d,j as e,L as f,D as g};
//# sourceMappingURL=https://app.framerstatic.com/chunk-3MO6XY3C.mjs.map
