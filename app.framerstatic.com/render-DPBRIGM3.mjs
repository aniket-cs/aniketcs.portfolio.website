import"https://app.framerstatic.com/chunk-6B5UL76D.mjs";import{a as ue}from"https://app.framerstatic.com/chunk-AZJP7ZIY.mjs";import{a as Ue}from"https://app.framerstatic.com/chunk-LSJGQN45.mjs";import{a as Ye}from"https://app.framerstatic.com/chunk-N5A3CBYX.mjs";import{a as De}from"https://app.framerstatic.com/chunk-4VZ4RT6O.mjs";import{a as j}from"https://app.framerstatic.com/chunk-MQEGGCIT.mjs";import"https://app.framerstatic.com/chunk-ZBWNNVFD.mjs";import{a as D}from"https://app.framerstatic.com/chunk-56USAD5N.mjs";import"https://app.framerstatic.com/chunk-BJJYBE6J.mjs";import{e as le,f as g}from"https://app.framerstatic.com/chunk-WQLSCYRT.mjs";import{Cc as Ve,H as Fe,ab as me,ke as je,ne as m,re as V}from"https://app.framerstatic.com/chunk-OLLUD2TV.mjs";import{f as q}from"https://app.framerstatic.com/chunk-OP3I5GWQ.mjs";import"https://app.framerstatic.com/chunk-XFC6OVIX.mjs";import"https://app.framerstatic.com/chunk-MUJGN57O.mjs";import"https://app.framerstatic.com/chunk-IESSVQMT.mjs";import{r as Ae,s as k}from"https://app.framerstatic.com/chunk-FLYPY5MN.mjs";import"https://app.framerstatic.com/chunk-PQTMT7WH.mjs";import{a as Le,b as ce}from"https://app.framerstatic.com/chunk-4AQCMAAQ.mjs";import{a as R}from"https://app.framerstatic.com/chunk-QFU6OGL3.mjs";import{o as Pe}from"https://app.framerstatic.com/chunk-SLDIRI5J.mjs";import"https://app.framerstatic.com/chunk-FKVUZ4GS.mjs";import{ma as G,oa as pe}from"https://app.framerstatic.com/chunk-UDHY4XX7.mjs";import"https://app.framerstatic.com/chunk-LFGBPVBJ.mjs";import"https://app.framerstatic.com/chunk-EHY3EVAD.mjs";import"https://app.framerstatic.com/chunk-56X645NF.mjs";import"https://app.framerstatic.com/chunk-PAHUPE2T.mjs";import{a as Je}from"https://app.framerstatic.com/chunk-HE52I33X.mjs";import"https://app.framerstatic.com/chunk-BMCHOO73.mjs";import{a as i,b as eo}from"https://app.framerstatic.com/chunk-EOY2B43C.mjs";import{a as h}from"https://app.framerstatic.com/chunk-U6TQH26S.mjs";import"https://app.framerstatic.com/chunk-MAIWCQQJ.mjs";import{a as F,b as Ie}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{a as w}from"https://app.framerstatic.com/chunk-DFNFZLDR.mjs";import{e as n}from"https://app.framerstatic.com/chunk-B3PEGEKP.mjs";var Tt=n(h());var Jt=n(h());var y=n(h());var rt=n(h());var Te="button_blajnuz",Qe="secondaryButton_s1r4uh58",He="loginButtonText_lbr5chv",$e="loginButtonLoading_l13m9aw4",et="hidden_h1bbhvj1",tt="disabled_d53z8jv";var nt=n(i()),S=(0,rt.forwardRef)(({children:e,variant:t="primary",className:o,testId:r,...c},a)=>(0,nt.jsx)(V,{ref:a,className:R(Te,t==="secondary"&&Qe,o),variant:"withDepth","data-testid":r,...c,children:e}));var lt=n(h());var O=n(h());var st=n(i()),it=(0,O.createContext)(null);function at({access:e,siteId:t,children:o}){let[r,c]=(0,O.useState)(e),a=(0,O.useCallback)(async()=>{let d=await D(t);return c(d),d},[t]),s=(0,O.useMemo)(()=>({access:r,refreshEditorBarAccess:a,siteId:t}),[r,a,t]);return(0,O.useEffect)(()=>{le.setUserId(r.userId??"null")},[r.userId]),(0,st.jsx)(it.Provider,{value:s,children:o})}var J=()=>{let e=(0,O.useContext)(it);if(!e)throw new Error("useAccessData must be used within an AccessDataProvider");return e};var I=n(i());function ct({siteId:e}){let t=de();j("editor_bar_impression",{page:"editor-bar-cookie-prompt"});async function o(){g("editor_bar_interaction",{page:"editor-bar-cookie-prompt",id:"editor-bar-allow-cookies"});try{await document.requestStorageAccess();let r=await D(e);t(re({access:r,isThankYou:!0,siteId:e}))}catch(r){r instanceof Error&&r.message==="requestStorageAccess not allowed"?t({Component:U,props:{isStorageAccessGranted:!1,isThankYou:!0,siteId:e}}):t({Component:U,props:{isStorageAccessGranted:!1,isThankYou:!1,siteId:e}})}}return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{children:"Additional Cookie Permissions Required"}),(0,I.jsx)(S,{onClick:o,children:"Allow"})]})}var b=n(i());function U({isStorageAccessGranted:e,isThankYou:t=!1,siteId:o}){let r=de(),{refreshEditorBarAccess:c,access:a}=J(),[s,d]=(0,lt.useState)(null);["unknown","no-auth"].includes(a.status)||r(re({access:a,isThankYou:t,siteId:o}));function l(_){let ze=setInterval(async()=>{_.closed&&(clearInterval(ze),await c(),d(null))},500)}async function B(_){if(!s)if(g("editor_bar_interaction",{page:"editor-bar-guest-page",id:_==="login"?"editor-bar-login":"editor-bar-signup"}),e||t){let K=window.open(`${w().login}?closeAfterSuccess=true`,"_blank");K&&(l(K),d(_))}else r({Component:ct,props:{siteId:o}})}return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:t?"Thank You!":"Edit in Framer"}),(0,b.jsx)(pt,{variant:"secondary",selected:s==="login",disabled:s==="signup",onClick:()=>B("login"),children:"Login"}),(0,b.jsx)(pt,{selected:s==="signup",disabled:s==="login",onClick:()=>B("signup"),children:"Signup"})]})}function pt({selected:e,onClick:t,children:o,disabled:r,variant:c}){return(0,b.jsxs)(S,{variant:c,className:R(e!==null&&r&&tt),onClick:t,children:[(0,b.jsx)("div",{className:R(He,e&&et),children:o}),e?(0,b.jsx)("div",{className:$e,children:(0,b.jsx)(ue,{})}):null]})}var A=n(i());function mt(){return j("editor_bar_impression",{page:"editor-bar-no-access-page"}),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("span",{children:"To edit, ask the site owner for access"}),(0,A.jsx)(S,{as:"a",href:"https://www.framer.com/help/articles/editor-bar/#why-does-it-say-i-don-t-have-access",rel:"noreferrer noopener",target:"_blank",variant:"secondary",children:"Learn More"})]})}var ge=n(h()),Me=(0,ge.createContext)(void 0);function x(){let e=(0,ge.useContext)(Me);return F(e,"useOnPageEngine must be used within an OnPageEngineContext.Provider"),e}var E=n(i());function ut({access:e,isThankYou:t=!1}){let o=x();j("editor_bar_impression",{page:"editor-bar-project-page"});function r(){g("editor_bar_interaction",{page:"editor-bar-project-page",id:"editor-bar-open-project"}),window.open(`${w().app}/projects/${e.projectSlug}?node=${o.activeRouteStore.nodeId}`,"FramerStudio")}return(0,E.jsxs)(E.Fragment,{children:[t?(0,E.jsx)("span",{children:"Thank You!"}):(0,E.jsxs)("span",{children:[e?.permissions?.canEditContent==="on"?"Edit":"View"," in Framer"]}),(0,E.jsx)(S,{variant:"secondary",onClick:r,children:"Open"})]})}function v(e){return window.editorBarFeatures[e]}async function X({awaitOnBeginSizeMeasuring:e=!0,onAbleToDraw:t,padding:o=0,ref:r}){let c=({width:B,height:_,padding:K=0})=>{let ze=`calc(50% - ${_/2+K}px)`,Qt="0%",Ht=`calc(50% - ${_/2+K}px)`,$t=`calc(100% - ${B+K*2}px)`;return`inset(${ze} ${Qt} ${Ht} ${$t})`},a=r;if(!a)return;window.parent.postMessage({apiVersion:1,type:"beginSizeMeasuring"},"*"),e&&await dt(document.body),t&&(t(),await dt(a));let s=a.getBoundingClientRect(),d=getComputedStyle(a),l=c({width:Math.ceil(s.width),height:Math.ceil(s.height),padding:o});v("editorBarSubtle")?window.parent.postMessage({apiVersion:1,type:"updateStyle",clipPath:l},"*"):window.parent.postMessage({apiVersion:1,type:"updateStyle",background:d.background,borderRadius:d.borderRadius,height:Math.ceil(s.height),width:Math.ceil(s.width)},"*")}async function dt(e){let t=e.offsetWidth,o=e.offsetHeight,r=5e3,c=100;return new Promise(a=>{let s=window.setTimeout(()=>{l.disconnect(),a()},r),d=Ae(()=>{clearTimeout(s),l.disconnect(),a()},c),l=new ResizeObserver(()=>{(e.offsetWidth!==t||e.offsetHeight!==o)&&d()});l.observe(e)})}var C=n(h());var gt="logoButton_l1amlb55",xt="editorBar_e1noknjc",yt="editorBarCircle_e14vtnbc",ft="editorBarSubtleCross_ewpufyq",_t="editorBarWrapper_e9jl8lf",kt="editorBarSubtleIconFramer_eptse9g";var ne=n(i());function Ot(){return(0,ne.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",fill:"none",children:[(0,ne.jsx)("title",{children:"Options"}),(0,ne.jsx)("path",{d:"M 1 2.75 L 4 5.75 L 7 2.75",fill:"transparent",strokeWidth:"1.5",stroke:"#666",strokeLinecap:"round",strokeLinejoin:"round"})]})}var T=n(i());function to(){let[e,t]=(0,C.useState)(!1),{access:o}=J(),r=o.userId??"null",c=(0,C.useCallback)(()=>{t(!0),window.parent.postMessage({apiVersion:1,type:"showMenu",userId:r},"*")},[r]),a=(0,C.useCallback)(()=>{t(!1),window.parent.postMessage({apiVersion:1,type:"closeMenu"},"*")},[]);return(0,C.useEffect)(()=>{let s=d=>{let l=d.data;typeof l=="object"&&l&&"type"in l&&"apiVersion"in l&&l.type==="closeMenu"&&l.apiVersion===1&&t(!1)};return window.addEventListener("message",s),()=>window.removeEventListener("message",s)},[]),{menuOpen:e,openMenu:c,closeMenu:a}}var bt=(0,C.forwardRef)(({children:e,hidden:t},o)=>{let{menuOpen:r,openMenu:c,closeMenu:a}=to(),s=(0,C.useRef)(null);return(0,C.useEffect)(()=>{if(!r)return;let l=B=>{s.current?.contains(B.target)||(B.preventDefault(),a())};return window.addEventListener("click",l),()=>window.removeEventListener("click",l)},[r,a]),(0,T.jsxs)(m,{className:xt,ref:o,direction:"row",alignItems:"center",gap:5,style:{display:t?"none":void 0},children:[(0,T.jsxs)(S,{ref:s,className:gt,variant:"secondary",onClick:()=>{r?a():c()},"aria-selected":r,testId:"editor-bar-menu",children:[(0,T.jsx)(me,{}),(0,T.jsx)(Ot,{})]}),e]})});var xe=n(i()),Ct=(0,y.createContext)({navigate:()=>{}});function re({access:e,isThankYou:t=!1,siteId:o}){switch(e.status){case"success":return{Component:ut,props:{access:e.data,isThankYou:t}};case"no-access":return{Component:mt,props:{}};case"no-auth":return{Component:U,props:{isStorageAccessGranted:!0,isThankYou:t,siteId:o}};case"unknown":return{Component:U,props:{isStorageAccessGranted:!1,siteId:o}};case"error":return{props:{}};default:Ie(e)}}function wt(){let e=(0,y.useRef)(null),{access:t,siteId:o}=J(),[r,c]=(0,y.useState)(!1),[a,s]=(0,y.useState)(()=>re({access:t,siteId:o}));(0,y.useEffect)(()=>{X({ref:e.current})},[]);let d=(0,y.useCallback)(async _=>{await X({ref:e.current,onAbleToDraw:()=>{s(_)}})},[]),l=(0,y.useCallback)(async _=>{await X({ref:e.current,onAbleToDraw:()=>{c(_)},awaitOnBeginSizeMeasuring:!1,padding:_?30:0})},[]),B=(0,y.useMemo)(()=>({navigate:d,isMenuOpen:r,setIsMenuOpen:l}),[d,r,l]);return(0,xe.jsx)(Ct.Provider,{value:B,children:(0,xe.jsx)(bt,{ref:e,hidden:!a.Component,children:a.Component&&(0,xe.jsx)(a.Component,{...a.props})})})}function de(){return(0,y.useContext)(Ct).navigate}var Gt=n(eo());var ht="iframe_i1gxt05z";var W=n(i()),ro=Ue.onPageCanvas;function St({hidden:e}){return(0,Gt.createPortal)((0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("iframe",{title:"Sandbox",src:ro.url,className:ht,style:{top:e?"-100vh":void 0},sandbox:"allow-scripts allow-same-origin"}),(0,W.jsx)("div",{style:{opacity:e?0:1},children:(0,W.jsx)(De,{})})]}),document.body)}var ye="container_c1vvoav9",vt="textContainer_t15urrdh",Bt="title_t1namuwz",Nt="subtitle_sxh2ohi",zt="loginButtonLoading_lphptyb",fe="button_b8z2g5f",qt="item_iomzvnr",Mt="menuRowText_m1pj38tw",Et="divider_dqcnluu",P="iconSquare_i1eh86yw",ie="buttonsContainer_b1ng3yop";var Z="https://app.framerstatic.com/framer-logo-blue-23OMXQLR.png";var Q=n(i()),H=({width:e=10,height:t=10,className:o})=>(0,Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,fill:"none",className:o,children:(0,Q.jsxs)("g",{transform:"translate(2 2)",children:[(0,Q.jsx)("path",{d:"M 0 0 L 6 6",fill:"transparent",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,Q.jsx)("path",{d:"M 0 6 L 6 0",fill:"transparent",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})});var p=n(i());function $({children:e,onClick:t}){return(0,p.jsx)("button",{type:"button",className:qt,onClick:t,children:(0,p.jsx)("span",{className:Mt,children:e})})}function ee({children:e,onClick:t,disabled:o,layoutId:r,duration:c}){return(0,p.jsx)(G.div,{layout:"position",layoutId:r,style:{width:"100%"},transition:{duration:c,type:"spring",bounce:.2,delay:0},children:(0,p.jsx)(V,{type:"button",className:fe,onClick:t,enabled:!o,children:e})})}function N({logo:e,title:t,subtitle:o,buttons:r,showLearnMoreAndHideEditorBarButtons:c,customClassNames:a}){let s=x(),d=()=>{window.open("https://www.framer.com/help/articles/page-edit","_blank"),s.navigationStore.setMenuOpen(!1)},l=()=>{g("editor_bar_interaction",{page:"editor-bar-menu",id:"editor-bar-hide"}),window.parent.postMessage({apiVersion:1,type:"editorBarHidden"},"*")};return(0,p.jsxs)(m,{className:k(ye,a?.container),justifyContent:"center",alignItems:"center",children:[(0,p.jsxs)(m,{className:k(vt,a?.textContainer),gap:15,alignItems:"center",justifyContent:"center",children:[e,(0,p.jsxs)(m,{gap:5,alignItems:"center",justifyContent:"center",children:[(0,p.jsx)(G.span,{layout:!0,className:k(Bt,a?.title),children:t}),(0,p.jsx)(G.p,{layout:!0,className:k(Nt,a?.subtitle),children:o})]})]}),r?(0,p.jsx)(m,{className:k(ie,a?.buttonsContainer),gap:10,children:r}):null,c?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("hr",{className:k(Et,a?.divider)}),(0,p.jsxs)(m,{className:k(ie,a?.buttonsContainer),gap:2,children:[(0,p.jsxs)($,{onClick:d,children:[(0,p.jsx)(m,{className:k(P,a?.iconSquare),children:(0,p.jsx)(je,{})}),"Learn More"]}),(0,p.jsxs)($,{onClick:l,children:[(0,p.jsx)(m,{className:k(P,a?.iconSquare),children:(0,p.jsx)(H,{})}),"Hide Button"]})]})]}):null]})}var ke=n(i());function Xt(){let e=x();async function t(){g("editor_bar_interaction",{page:"editor-bar-cookie-prompt",id:"editor-bar-allow-cookies"});try{await document.requestStorageAccess()}finally{await e.accessStore.refresh()}}return(0,ke.jsx)(N,{logo:(0,ke.jsx)("img",{decoding:"async",width:36,src:Z,alt:"Framer Logo"}),title:"Page Edit",subtitle:"You need to grant additional permissions to edit the site",buttons:(0,ke.jsx)(V,{className:fe,onClick:t,children:"Grant Permissions"}),showLearnMoreAndHideEditorBarButtons:!0})}var te=n(i());function Wt(){let e=x(),{isLoginInProgress:t}=e.loginStore.useState();async function o(){g("editor_bar_interaction",{page:"editor-bar-guest-page",id:"editor-bar-login"}),await e.loginStore.login()}return(0,te.jsx)(N,{logo:(0,te.jsx)("img",{decoding:"async",width:36,height:36,src:Z,alt:"Framer Logo"}),title:"Page Edit",subtitle:"Edit pages in one click",buttons:(0,te.jsx)(ee,{onClick:o,disabled:t,children:t?(0,te.jsx)("div",{className:zt,children:(0,te.jsx)(ue,{})}):"Continue"}),showLearnMoreAndHideEditorBarButtons:!0})}var oe="EDITOR_BAR_DEVICE_PREFERENCE",Xe="EDITOR_BAR_MENU_SEEN";var Zt="checkMarkContainer_ccat1lo",We="container_cctxuxu",Kt="subtitle_slifumh";var Oe=class extends q{constructor(){super();this._navigationState="Initializing";this._isMenuOpen=!localStorage.getItem(Xe);this.isMouseHoveringMenu=!1;this.isMenuOpen&&this.scheduleMenuAutoClose()}get navigationState(){return this._navigationState}get isMenuOpen(){return this._isMenuOpen}registerLayoutRef(o){this.layoutRef=o,X({ref:o,padding:30})}async navigate(o){o!==this._navigationState&&(this.layoutRef?await X({ref:this.layoutRef,onAbleToDraw:()=>{this._navigationState=o},awaitOnBeginSizeMeasuring:!1,padding:30}):this._navigationState=o)}async setMenuOpen(o){F(this.layoutRef,"Must registerLayoutRef before calling OnPageNavigationStore.navigate"),await X({ref:this.layoutRef,onAbleToDraw:()=>{this._isMenuOpen=o},awaitOnBeginSizeMeasuring:!1,padding:o?30:0})}async toggleMenuOpen(){await this.setMenuOpen(!this.isMenuOpen)}scheduleMenuAutoClose(){v("editorBarSubtle")&&setTimeout(()=>{localStorage.setItem(Xe,"true"),this.isMouseHoveringMenu||this.setMenuOpen(!1)},2e3)}};function be({access:e}){let t=localStorage.getItem(oe);switch(e.status){case"no-auth":return"Guest";case"success":return t?"SubtleMenu":"SelectAppPreference";case"unknown":return"CookiePrompt";case"error":return"Error";case"no-access":return"NoAccess";default:ce(e)}}var ae=n(h());var u=n(i()),ao=()=>(0,u.jsx)(G.div,{layout:!0,className:Zt,children:(0,u.jsx)(Fe,{})});function Rt(){let e=x(),[t,o]=(0,ae.useState)(null),r=.4,c=(0,ae.useCallback)(s=>{g("editor_bar_interaction",{page:"editor-bar-select-app-preference",id:s==="browser"?"editor-bar-select-app-preference-browser":"editor-bar-select-app-preference-app"}),localStorage.setItem(oe,s),o(s)},[]),a=(0,ae.useCallback)(async()=>{await e.navigationStore.setMenuOpen(!1),await e.navigationStore.navigate(be({access:e.accessStore.access}))},[e]);return(0,u.jsx)(pe,{mode:"wait",children:(0,u.jsx)(G.div,{layoutId:"preference-container",transition:{duration:r,type:"spring",bounce:.2,delay:0},children:t?(0,u.jsx)(N,{logo:(0,u.jsx)(ao,{}),title:"Preference Saved",subtitle:`From now on, the Edit Page button will open the ${t}`,buttons:(0,u.jsx)(ee,{layoutId:"preference-buttons",duration:r,onClick:a,children:"Dismiss"}),customClassNames:{container:We}}):(0,u.jsx)(N,{logo:(0,u.jsx)(G.img,{layout:!0,decoding:"async",width:36,src:Z,alt:"Framer Logo"}),title:"Page Edit",subtitle:(0,u.jsxs)(u.Fragment,{children:["Do you prefer to edit your sites in the"," ",(0,u.jsx)("a",{href:"https://www.framer.com/downloads/",target:"_blank",children:"Framer App"})," ","or in the web browser?"]}),buttons:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ee,{layoutId:"preference-buttons",duration:r,onClick:()=>c("app"),children:"Framer App"}),(0,u.jsx)(ee,{onClick:()=>c("browser"),children:"Web Browser"})]}),customClassNames:{container:We,subtitle:Kt}})},t?"saved":"select")})}var Ze=n(i());function Ke(e){return(0,Ze.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"14",fill:"none",...e,children:(0,Ze.jsx)("path",{d:"M4.33 5.33H0v4.34L4.33 14V9.67h4.34ZM0 1h8.67v4.33H4.33Z",fill:"currentColor"})})}var It="container_csobrve",Lt="containerWithOnPageEditing_cx5gcf5",At="containerWithoutOnPageEditing_cdrnsha";var f=n(i());function Yt({projectSlug:e}){let t=localStorage.getItem(oe)==="app",o=x();function r(){window.parent.postMessage({apiVersion:1,type:"enterFullscreen"},"*"),o.navigationStore.navigate("Canvas")}function c(){g("editor_bar_interaction",{page:"editor-bar-project-page",id:"editor-bar-open-project"});let s=`${w().app}/projects/${e}?node=${o.activeRouteStore.nodeId}`;t?window.open(`https://www.framer.com/open-in-app?url=${encodeURIComponent(s)}`,"_blank"):window.open(s,"FramerStudio"),o.navigationStore.setMenuOpen(!1)}let a=()=>{g("editor_bar_interaction",{page:"editor-bar-project-page",id:"editor-bar-hide"}),window.parent.postMessage({apiVersion:1,type:"editorBarHidden"},"*")};return(0,f.jsx)(m,{className:R(ye,It,v("editorBarOnPageEditing")?Lt:At),justifyContent:"center",alignItems:"center",children:(0,f.jsxs)(m,{className:ie,gap:2,children:[v("editorBarOnPageEditing")&&(0,f.jsxs)($,{onClick:r,children:[(0,f.jsx)(m,{className:P,children:(0,f.jsx)(Ke,{})}),"One-click Edit"]}),(0,f.jsxs)($,{onClick:c,children:[(0,f.jsx)(m,{className:P,children:t?(0,f.jsx)(Ke,{}):(0,f.jsx)(Ve,{})}),v("editorBarOnPageEditing")?"Edit in Framer":"Edit Page"]}),(0,f.jsxs)($,{onClick:a,children:[(0,f.jsx)(m,{className:P,children:(0,f.jsx)(H,{})}),"Hide"]})]})})}var Re=n(i());function Ft(){return(0,Re.jsx)(N,{logo:(0,Re.jsx)("img",{decoding:"async",width:36,src:Z,alt:"Framer Logo"}),title:"Page Edit",subtitle:"To edit, ask the site owner for access to the project",showLearnMoreAndHideEditorBarButtons:!0})}var Y=n(i());function Vt(){let e=x(),{access:t}=e.accessStore.useState(),{navigationState:o}=e.navigationStore.useState();switch(o){case"Guest":return(0,Y.jsx)(Wt,{});case"CookiePrompt":return(0,Y.jsx)(Xt,{});case"SubtleMenu":return Le(t.status==="success"),(0,Y.jsx)(Yt,{projectSlug:t.data.projectSlug});case"SelectAppPreference":return(0,Y.jsx)(Rt,{});case"Error":return(0,Y.jsx)("div",{children:"Error"});case"NoAccess":return(0,Y.jsx)(Ft,{});case"Canvas":return null;case"Initializing":return null;default:ce(o)}}var Ce=n(i());function jt({open:e,hidden:t,onClick:o}){return(0,Ce.jsx)(m,{className:k(yt,e&&ft),direction:"row",alignItems:"center",justifyContent:"center",gap:5,style:{display:t?"none":void 0},onClick:o,children:e?(0,Ce.jsx)(H,{}):(0,Ce.jsx)(me,{className:kt,height:16})})}var we=n(h()),z=n(i());function co({children:e,open:t}){return(0,z.jsx)(pe,{children:t&&(0,z.jsx)(G.div,{initial:{marginRight:-4,opacity:0},animate:{marginRight:0,opacity:1},exit:{marginRight:-4,opacity:0},children:e})})}function Dt(){let e=x(),{isMenuOpen:t,navigationState:o}=e.navigationStore.useState(),r=(0,we.useRef)(null);(0,we.useEffect)(()=>{r.current&&e.navigationStore.registerLayoutRef(r.current)},[e]);let c=()=>{e.navigationStore.isMouseHoveringMenu=!0},a=()=>{e.navigationStore.isMouseHoveringMenu=!1},s=async()=>{await e.navigationStore.toggleMenuOpen()};return(0,z.jsxs)(m,{direction:"row",alignItems:"center",gap:10,ref:r,className:_t,onMouseEnter:c,onMouseLeave:a,children:[(0,z.jsx)(co,{open:t,children:(0,z.jsx)(Vt,{})}),(0,z.jsx)(jt,{hidden:o==="Initializing",open:t,onClick:s}),(0,z.jsx)(St,{hidden:o!=="Canvas"})]})}var he=n(i());function Ut({access:e,siteId:t}){return(0,Jt.useEffect)(()=>{le.setUserId(e.userId??"null")},[e.userId]),(0,he.jsx)(at,{access:e,siteId:t,children:v("editorBarSubtle")?(0,he.jsx)(Dt,{}):(0,he.jsx)(wt,{})})}var se=class se extends q{constructor(o,r){super();this.navigationStore=o;this.siteId=r}get access(){return F(this._access,"Access not initialized"),this._access}get projectId(){let o=this.access;if(o.status!=="success")return;let{projectSlug:r}=o.data;return se.getProjectIdFromSlug(r)}async set(o){this._access=o;let r=be({access:o});await this.navigationStore.navigate(r)}async refresh(){let o=await D(this.siteId);await this.set(o)}static getProjectIdFromSlug(o){if(o)return se.projectSlugRegex.exec(o)?.groups?.id}};se.projectSlugRegex=/^.+--(?<id>[a-z0-9]+)(?:-[a-z0-9]+)?$/iu;var Ge=se;var Se=class extends q{constructor(){super();this._nodeId=new URLSearchParams(window.location.search)?.get("nodeId")??"";let o=({data:r})=>{typeof r!="object"||!r||!("apiVersion"in r)||r.apiVersion===1&&"type"in r&&r.type==="updateNodeId"&&"nodeId"in r&&typeof r.nodeId=="string"&&(this._nodeId=r.nodeId)};window.addEventListener("message",o)}get nodeId(){return this._nodeId}};var ve=class extends q{constructor(o){super();this.accessStore=o;this.isLoginInProgress=!1}login(){let o=window.open(`${w().login}?closeAfterSuccess=true`,"_blank");return o?this.startLoginWindowClosedPolling(o):Promise.resolve()}startLoginWindowClosedPolling(o){return this.isLoginInProgress=!0,new Promise(c=>{let a=setInterval(async()=>{o.closed&&(clearInterval(a),await this.accessStore.refresh(),this.isLoginInProgress=!1,c())},500)})}};var Be=class{constructor(t){this.siteId=t;this.navigationStore=Oe.new(this);this.accessStore=Ge.new(this,this.navigationStore,this.siteId);this.loginStore=ve.new(this,this.accessStore);this.activeRouteStore=Se.new(this);this.inRendering=!1;this.changes=new Ye;this.runWhenIdle=t=>{throw new Error("Not implemented")};if(!Pe.isOn("editorBarSubtle")){let o=window;window.parent.postMessage({apiVersion:1,type:"initializeController",jsUrl:o.controllerJsBundleURL,cssUrl:o.controllerCssBundleURL,trackingUrl:w().events},"*")}}signalChanges(t){this.changes.addChanges(t),this.changes.signalObserversFor(t)}process(t){throw new Error("Not implemented")}processWhenReady(t){throw new Error("Not implemented")}async processWhenReadyAsync(t){throw new Error("Not implemented")}runBeforeNextFrame(t){throw new Error("Not implemented")}runWithFullyLoadedTree(t,o){throw new Error("Not implemented")}signalNonUserEvent(){throw new Error("Not implemented")}};var Ne=n(i());async function Mi(e,t){let o=new Be(t);await o.accessStore.set(e),Je((0,Ne.jsx)(Tt.StrictMode,{children:(0,Ne.jsx)(Me.Provider,{value:o,children:(0,Ne.jsx)(Ut,{access:e,siteId:t})})}),document.getElementById("root"))}export{Mi as renderEditorBar};
//# sourceMappingURL=https://app.framerstatic.com/render-DPBRIGM3.mjs.map
