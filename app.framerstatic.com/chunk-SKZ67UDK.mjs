import{a as tt}from"https://app.framerstatic.com/chunk-6HTGFFLP.mjs";import{a as G}from"https://app.framerstatic.com/chunk-7OKI33WV.mjs";import{d as pe}from"https://app.framerstatic.com/chunk-53K3JIKL.mjs";import{j as Qe,k as ce}from"https://app.framerstatic.com/chunk-CLVPFFWG.mjs";import{a as Ge,b as z}from"https://app.framerstatic.com/chunk-SHB5EXMY.mjs";import{b as I}from"https://app.framerstatic.com/chunk-WXPGM5NP.mjs";import{a as Q}from"https://app.framerstatic.com/chunk-ETFB2YUN.mjs";import{d as X}from"https://app.framerstatic.com/chunk-DECIE6AJ.mjs";import{ba as Je}from"https://app.framerstatic.com/chunk-LTYMRFFX.mjs";import{a as Xe}from"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import{b as et}from"https://app.framerstatic.com/chunk-DQBA4NOH.mjs";import{f as Le}from"https://app.framerstatic.com/chunk-EZF75KBF.mjs";import{Ic as Me,Jf as Ye,Pe as Ke,Sa as ze,dg as le,eg as Ze,f as De,hb as Oe,ne as je,oe as Y,pf as qe,qe as Z,re as Ve,se as ae,we as J,wg as D,xf as $e,ye as He}from"https://app.framerstatic.com/chunk-VQQHBFNS.mjs";import{g as U,i as Ne,o as d}from"https://app.framerstatic.com/chunk-HUGNMZ64.mjs";import{Xa as ro,Ya as se,Yg as _e,_g as Se,co as Te}from"https://app.framerstatic.com/chunk-O5AMU6IS.mjs";import{b as Fe,c as We,k as Ue}from"https://app.framerstatic.com/chunk-SPG7VYO5.mjs";import{b as q,c as $,h as W}from"https://app.framerstatic.com/chunk-XW2R7BKI.mjs";import{g as Be,m as Ae}from"https://app.framerstatic.com/chunk-WWAVD2AM.mjs";import{a as N,b as g}from"https://app.framerstatic.com/chunk-PZ4PDPA4.mjs";import{k as ne,t as F,y as Ee}from"https://app.framerstatic.com/chunk-J7RAPXVX.mjs";import{a as K}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{e as a,j as Ie}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var ee=a(N()),io=(0,ee.createContext)(null);function te(){let t=(0,ee.useContext)(io);return K(t,"EngineContext not initialized"),t}var ot=a(ro());var O=a(g());async function rt(t,o,e=1/0,i){i??=new G(t,{silent:!0});let r=[],n=[],l=[];for(let s of o){if(l.length>=e){n.push(s);continue}if(!We.includes(s.type)){r.push(s);continue}let p=i.add(s);l.push(p)}return r.length>0&&I({type:"add",key:"importUploadImagesUnsupported",variant:"warning",text:(0,O.jsxs)("span",{className:D,children:["Skipped ",r.length," unsupported images"]}),duration:1e4}),n.length>0&&I({type:"add",key:"importUploadImagesSkipped",variant:"warning",text:(0,O.jsxs)("span",{className:D,children:["Skipped ",n.length," images over field limit"]}),duration:1e4}),no(i,l).catch(()=>{}),(await Promise.all(l)).filter(z)}async function no(t,o){let e="uploadEmbeddedImagesByUrl",i={type:"add",key:e,variant:"progress",icon:"image",duration:1/0,showCloseButton:"never"};for await(let{completed:n,started:l}of t.statusUpdates())I({...i,text:(0,O.jsxs)("span",{className:D,children:["Adding ",n," of ",l," images\u2026"]})});await Promise.allSettled(o);let{failed:r}=t.status;r>0&&I({type:"add",key:"importUploadImagesFailed",variant:"warning",text:(0,O.jsxs)("span",{className:D,children:["Failed to upload ",r," ",(0,ot.default)("image",r)]}),duration:5e3}),I({type:"remove",key:e})}var it=F("ChooseFileService"),me=class{constructor(o,e,i){this.engine=o;this.assetService=e;this.filePickerRef=i;Ie(this,"assetUploader");this.assetUploader=new G(this.engine)}async pickFile({allowedFileTypes:o,multiple:e}={}){let i=this.filePickerRef.current;if(!i)return null;let r=await i.show(o?.map(n=>`.${n}`),e);return r.isFiles()?r.value:null}async pickImage({allowedFileTypes:o=Fe,multiple:e}={}){return this.pickFile({allowedFileTypes:o,multiple:e})}async pickAndUploadImage(o={}){try{let e=await this.pickImage(o);if(!e)return[];if(e.length===1){let i=await this.assetUploader.add(e[0]);if(!i)return[];if(await this.assetService.refresh().catch(ne),z(i))return[i]}else return await rt(this.engine,e,o.maxUploads)}catch(e){it.warn("Failed to upload file:",e)}return[]}async pickAndUploadFile(o){try{let e=await this.pickFile(o);if(!e)return;let i=e[0];return i?await this.assetUploader.add(i):void 0}catch(e){it.warn("Failed to upload file:",e)}}async addImages(o){if(!o?.length)return[];let i=(await Promise.all(Array.from(o,r=>this.assetUploader.add(r)))).filter(z);return i.length===0||await this.engine.webAssetsService?.refresh().catch(ne),i}},{service:de,resolve:so}=Ge();function Do(t,o,e){so(new me(t,o,e))}var k=a(N());var ue=a(g()),L=class t{constructor(o){this.result=o;Object.assign(this,o)}isCanceled(){return!this.result.ok&&this.result.error==="cancelled"}isEmpty(){return!this.result.ok&&this.result.error==="empty"}isFiles(){return this.result.ok&&Array.isArray(this.result.value)&&this.result.value.length>0}static canceled(){return new t(ce("cancelled"))}static empty(){return new t(ce("empty"))}static files(o){return new t(Qe(o))}};function ao(t){return t.startsWith("text")||t==="application/json"}function lo(t,o,e){let i=t/1e6;return ao(e)?i<=o:!0}function co({disabled:t,name:o,maxSizeInMB:e,shouldCheckFileSize:i,onMaxSizeExceeded:r,performantLimitInMB:n=5},l){let u=(0,k.useRef)(null),s=(0,k.useRef)(null),p=(0,k.useRef)(null);(0,k.useImperativeHandle)(l,()=>({show(w,f){return new Promise((y,x)=>{if(p.current){let[,h]=p.current;h(Error("Multiple calls to show()"))}p.current=[y,x],(!window.event||!window.event.isTrusted)&&console.warn("FilePicker\u2018s show() must be called from trusted event"),s.current&&(w?s.current.accept=w.join(","):s.current.removeAttribute("accept"),f?s.current.multiple=!0:s.current.removeAttribute("multiple"),s.current.click())})}}));let R=(0,k.useCallback)(w=>{if(!p.current)return;let[f]=p.current,{files:y}=w.currentTarget;if(!y||y.length===0){f(L.empty());return}let x=[];for(let h of y)e===void 0||lo(h.size,e,h.type)?(h.size/1e6>n&&h.type==="application/json"&&I({type:"add",variant:"warning",key:"file-picker-large-file-detected",text:"Adding large files might impact your site\u2019s performance.",duration:6e3,action:{title:"OK",onClick:()=>I({type:"remove",key:"file-picker-large-file-detected"})}}),x.push(h)):r?r(h.size/1e3):I({type:"add",variant:"error",text:`Exceeded maximum file size of ${e} MB`});x.length>0?f(L.files(x)):f(L.empty()),u.current?.reset()},[e,r,i]),v=s.current;return(0,k.useEffect)(()=>{if(!v)return;let w=new AbortController;return v.addEventListener("cancel",()=>{if(!p.current)return;let[f]=p.current;p.current=null,f(L.canceled())},{signal:w.signal}),()=>{w.abort()}},[v]),(0,ue.jsx)("form",{ref:u,style:{display:"none"},children:(0,ue.jsx)("input",{disabled:t,name:o,onChange:R,ref:s,style:{display:"none"},type:"file"})})}var Vo=(0,k.forwardRef)(co);var A=a(N());var M=[];function st(t){(0,A.useEffect)(()=>(M=[t,...M],()=>{M=M.filter(o=>o!==t)}),[t])}function $o({globalKeyBindings:t}){let o=(0,A.useCallback)(r=>{let n=t.get(r);n&&n.action(r)},[t]),e=(0,A.useCallback)(async r=>{Ue(r)||r.clipboardData&&pe(r.type,{event:r})},[]),i=(0,A.useCallback)(async r=>{if(!r.defaultPrevented){for(let n of M)if(await n(r),r.defaultPrevented)return;pe(r.type,{event:r})}},[]);(0,A.useEffect)(()=>(window.addEventListener("keydown",o),window.addEventListener("copy",e,!0),window.addEventListener("cut",e,!0),window.addEventListener("paste",i,!0),window.addEventListener("touchmove",nt,{passive:!1}),()=>{window.removeEventListener("keydown",o),window.removeEventListener("copy",e,!0),window.removeEventListener("cut",e,!0),window.removeEventListener("paste",i,!0),window.removeEventListener("touchmove",nt)}),[o,i,e])}function nt(t){t.touches.length>1&&(t.preventDefault(),t.stopPropagation())}var po=F("inviteByEmail");async function er(t,{email:o,role:e,permissions:i,token:r}){try{let n=await X.post(`/web/projects/${t}/acl`,{email:o,role:e,token:r,permissions:i??void 0});return{status:0,aclEntry:{...n,kind:n.pending?"invite":"user"}}}catch(n){return Q(n)?{status:1,editorLimit:n.data.editorLimit,licenseType:n.data.licenseType,teamId:n.data.teamId,teamName:n.data.teamName}:(po.reportError(n),{status:n instanceof Je&&n.isTemporary?2:3})}}var mo=F("inviteByEmail");async function nr(t,{id:o,role:e,permissions:i}){try{return await X.post(`/web/projects/${t}/acl/${o}`,{role:e,permissions:i??void 0}),{status:0}}catch(r){return Q(r)?{status:1,editorLimit:r.data.editorLimit,licenseType:r.data.licenseType,teamId:r.data.teamId,teamName:r.data.teamName}:(mo.reportError(r),{status:2})}}function at(t){let o=et();if(!o)return t;let e=o(t,{preferredSize:"small"});return e||t}var C=a(N());var lt="titleWrapper_t3p7r61",ct="title_t1ih3ztb",pt="withPlusIcon_wkaasce",mt="withActivePlusIcon_w1vx93q9",dt="withOverride_wof63pb";var E=a(g());function ut({title:t,className:o,displayPlusIcon:e,primaryMenuIsOpen:i,educationTooltip:r,disableTitleTooltip:n=!1,titleTooltip:l,overridden:u,...s}){return(0,E.jsxs)("div",{className:d(lt,e&&d(pt,(i||u)&&mt),o),title:t===" "||n?void 0:l??t,...s,children:[e&&(0,E.jsx)(Me,{}),(0,E.jsx)("div",{className:d(Z,ct,u&&dt),children:(0,E.jsx)(He,{children:t})}),r&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)($e,{size:Ne.inputSpacing}),r]})]})}var ft="panelRowView_p1oxlfbn",gt="withReorderControl_w1xpzgm5",bt="withButtonCursor_w1chribc";var j=a(g()),oe=({title:t,titleClassName:o,children:e,className:i,style:r,disableTitleTooltip:n=!1,titleTooltip:l,reorderColumnCount:u,reorderControlHidden:s,withButtonCursor:p=!1,displayPlusIcon:R=!1,isOverridden:v=!1,primaryMenuIsOpen:w=!1,onMouseDown:f,onContextMenu:y,ReorderControl:x,educationTooltip:h,...S})=>{let c=x!==void 0;c&&$(u)&&(r={...r,"--reorder-column-count":u});let T=y?{onContextMenu:y,role:"button"}:{},re=f?{onMouseDown:f,role:"button"}:{};return(0,j.jsxs)("div",{className:d(ft,c&&gt,i,p&&bt),style:r,tabIndex:-1,...T,...re,...S,children:[t&&(0,j.jsx)(ut,{overridden:v,title:t,disableTitleTooltip:n,titleTooltip:l,className:o,displayPlusIcon:R,educationTooltip:h,onMouseDown:f,primaryMenuIsOpen:w}),e,c&&!s&&(0,j.jsx)(x,{})]})};var wt=t=>t.stopPropagation();var V="doubleColumnClass_dt2vdl5",ht="doubleColumnClassForSortable_dc4gvpv",Er="spanAllColumnClass_s1dpgfha";var _t=a(N());var xt="iconWrapper_i1ab0gin",yt="largeIconWrapper_l19ygcxe",Tr="iconWrapperDisabled_i1mqt5la",vt="titleWrapper_t1bkmsxp",kt="truncateMargin_t1vpcft3",Pt="shortcutKey_suf63yr",Ct="closeWrapper_c1hu2nje",Rt="largeCloseWrapper_leca1mf",fe="disabled_d1ir7ssq",It="suggestion_sojarwo";var P=a(g());function St({innerText:t,shortcutKey:o,onDelete:e,isReadOnly:i=!1}){return t?{innerText:t}:{shortcutKey:o,onDelete:i?void 0:e}}var Bt=({enabled:t,large:o,title:e,titleColor:i,shortcutKey:r,preview:n,deleteIconColor:l,swatchBackgroundColor:u,suggestion:s,onDelete:p,innerText:R})=>{let v=(0,_t.useCallback)(f=>{f.stopPropagation(),p?.()},[p]),w=De(v);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:d(xt,o&&yt,t===!1&&fe),style:{backgroundColor:u},children:n}),(0,P.jsxs)("div",{className:d(vt,t===!1&&fe,s&&It),style:{color:i},children:[(0,P.jsx)("span",{className:d(Z,kt),children:e}),r&&(0,P.jsxs)("span",{className:Pt,children:["\xA0(",r,")"]}),R]}),p&&(0,P.jsx)("div",{className:d(Ct,o&&Rt),...w,style:{color:l},title:"Remove",children:(0,P.jsx)(Oe,{})})]})};var At="button_bwfcdld",Mr="buttonLarge_b4uva9g",Tt="disabled_d1xdslsy",jr="disabledWrapper_dpa1954";var ge=a(g()),Ft=t=>{let o=te(),e=J(),{doubleColumn:i,sortable:r,tooltip:n,tabIndex:l=0,onDuplicate:u,onDelete:s,onPresent:p,onCopy:R,className:v,shortcutKey:w,innerText:f,...y}=t;function x(c){o.contextMenuStore?.show([{label:"Duplicate",click:u,enabled:!e,visible:!!u},{label:"Copy",click:R,visible:!!R},{label:"Remove",click:s,enabled:!e,visible:!!s}],{location:{x:c.clientX,y:c.clientY}})}let h=c=>{c.key==="Delete"&&s?.()},S=Ve(l);return(0,ge.jsx)("div",{role:"button",title:n,onContextMenu:x,onClick:p,onKeyDown:h,tabIndex:t.enabled===!1?-1:S,className:d(At,t.enabled===!1&&Tt,i&&V,r&&ht,tt,v),children:(0,ge.jsx)(Bt,{...y,...St({innerText:f,shortcutKey:w,onDelete:s,isReadOnly:e})})})};var Wt="imageContainer_i1oxwf0f",Ut="imageContainerDragOver_ivz66j7",be="fullWidth_fjd4qd2",Lt="footerSeparator_f1gixrvj";var Nt="preview_p1oi602g",Dt="showButtonOnHover_s1rsxqtn",zt="chooseImageButton_c17esauc";var Ot="wrapper_wkxdsnf",Mt="largeWrapper_l2ga4t0";var Vt=a(g());function jt({large:t,borderColor:o,background:e=U.tint,color:i="#fff",children:r,className:n}){let l=o?`inset 0 0 0 1px ${o}`:void 0;return(0,Vt.jsx)(je,{className:d(Ot,t&&Mt,n),style:{background:e,color:i,boxShadow:l},children:r})}var m=a(g()),xo=["auto","lossless","small","medium","large","full"],yo={auto:"Auto",lossless:"Auto (Lossless)",small:"Small",medium:"Medium",large:"Large",full:"Full"};function _i({multiple:t=!1,imageReferences:o,onChangeImages:e,onRemoveImage:i,onChangeAssetSize:r,extraControls:n,altText:l=_e,onChangeAltText:u,positionX:s,positionY:p,enableFooter:R=!0,maxExtraImages:v,onEditFocalPoint:w,clearFocalPoint:f,onCropClick:y,onImageBatchUpload:x,PluginPickerButton:h}){let S=te(),c=J(),T=$(v)?v+1:void 0,[re,he]=C.default.useState(!1),xe=C.default.useRef(null),ye=C.default.useCallback(()=>{c||e(de.pickAndUploadImage({multiple:t,maxUploads:T}).then(Ht("upload")))},[e,c,t,T]),qt=C.default.useCallback(b=>{(b.key==="Backspace"||b.key==="Delete")&&!c&&i?.()},[i,c]),$t=C.default.useCallback(b=>{c||b.dataTransfer&&x&&e(x(b.dataTransfer.files,T).then(Ht("drop")))},[e,c,T,x]),Yt=C.default.useCallback(b=>{b.preventDefault(),i&&S.contextMenuStore?.show([{label:"Delete",enabled:!c,click:i}],{location:{x:b.clientX,y:b.clientY}})},[S,c,i]),Zt=C.default.useCallback(async b=>{if(c)return;let Ce=xe.current;if(!Ce||document.activeElement!==Ce)return;b.preventDefault();let Re=b.clipboardData;Re&&e(de.addImages(Re.files))},[e,c]);st(Zt);let Jt=C.default.useCallback(()=>{he(!0)},[]),Xt=C.default.useCallback(()=>{he(!1)},[]),_=o[0],{fileExtensions:ve,preferredSizes:ke}=ko(o),Pe=o.length>0,B=Te(o),Gt=q(B)&&B.length>0,H=!W(s)&&!W(p),ie=ve.has("svg"),Qt=Pe&&ke.size>0&&!ie,eo=C.default.useCallback(()=>{_&&y?.(_,e)},[_,e,y]),to=()=>{K(q(B)&&B.length>0),w?.(B,se(s)?s:void 0,se(p)?p:void 0)},oo=_&&at(_);return(0,m.jsxs)(Y,{direction:"column",children:[(0,m.jsxs)(Ye,{className:d(Nt,_&&Dt),onDrop:$t,onDragEnter:Jt,onDragLeave:Xt,onKeyDown:qt,onDoubleClick:ye,onContextMenu:Yt,children:[(0,m.jsx)("div",{ref:xe,tabIndex:0,className:vo(re),children:(0,m.jsx)("img",{src:oo,alt:"",decoding:"async"})}),!c&&(0,m.jsx)(ae,{variant:"clean",title:t?"Choose Images\u2026":"Choose Image\u2026",onClick:ye,onDoubleClick:wt,className:zt})]},_),(0,m.jsxs)(Y,{direction:"column",gap:0,children:[(0,m.jsx)(oe,{title:"Resolution",children:(0,m.jsxs)(Ze,{enabled:Qt,wrapperClassName:V,children:[(0,m.jsx)(le,{title:ve.size>1?"Mixed":"Auto",selected:!0,onSelect:Xe,enabled:!1,visible:ie}),!ie&&xo.map(b=>(0,m.jsx)(le,{title:yo[b],identifier:b,selected:ke.has(b),onSelect:r},b))]})}),n,Se(l)&&!W(u)&&(0,m.jsx)(oe,{title:"Alt Text",children:(0,m.jsx)(Ke,{value:q(l)?l:"",onChange:u,className:V,placeholder:Ee(B)?"Mixed":"Describe Image\u2026",enabled:Pe})}),!W(w)&&!W(f)&&(0,m.jsx)(oe,{title:"Focal Point",children:(0,m.jsx)(Ft,{doubleColumn:!0,onPresent:to,enabled:Gt&&!c,onDelete:H?f:void 0,title:H?"Custom":"Add\u2026",titleColor:H?void 0:U.inputLabel,tooltip:H?"Edit Focal Point":"Add Focal Point",preview:(0,m.jsx)(jt,{color:U.popupButtonPreviewIconPrimary,background:U.popupButtonPreviewIconBackground,children:(0,m.jsx)(ze,{})})})}),R&&(0,m.jsxs)(Y,{direction:"row",className:Lt,children:[(0,m.jsx)("div",{className:be,children:(0,m.jsx)(ae,{title:"Crop",enabled:!c&&!!_,onClick:eo,className:be})}),h&&(0,m.jsx)(h,{commonImageReference:B,onChangeImages:e,altText:l,onChangeAltText:u})]})]})]})}function vo(t){let o=d(Wt),e=d(o,Ut);return d(t?e:o,"wantsNativeTextAction")}function Ht(t){return o=>{let e=o[0]?Be(o[0].filename)[1].toLowerCase():"";return Le("insert_image",{imageExtension:e,source:`picker_${t}`}),o}}function ko(t){let o=new Set,e=new Set;return t.forEach(i=>{let r=Ae(i);r&&(o.add(r.preferredSize||"auto"),e.add(r.fileExtension))}),{preferredSizes:o,fileExtensions:e}}var Kt="loading_lbz3y5l";var we=a(g());function Wi(){return(0,we.jsx)("div",{className:Kt,children:(0,we.jsx)(qe,{})})}export{lt as a,ct as b,oe as c,V as d,ht as e,Er as f,xt as g,Tr as h,vt as i,St as j,Bt as k,At as l,Mr as m,jr as n,rt as o,no as p,io as q,te as r,Ft as s,jt as t,at as u,de as v,Do as w,st as x,$o as y,wt as z,_i as A,ko as B,Vo as C,er as D,nr as E,Wi as F};
//# sourceMappingURL=https://app.framerstatic.com/chunk-SKZ67UDK.mjs.map
