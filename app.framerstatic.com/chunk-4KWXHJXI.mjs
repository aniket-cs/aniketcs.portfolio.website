import{a as Ve}from"https://app.framerstatic.com/chunk-6HTGFFLP.mjs";import{c as ie,h as se}from"https://app.framerstatic.com/chunk-FORUFGZA.mjs";import{j as Ke,k as ne}from"https://app.framerstatic.com/chunk-PFCTFETU.mjs";import{b as Y}from"https://app.framerstatic.com/chunk-PY6P753Y.mjs";import{a as Z}from"https://app.framerstatic.com/chunk-UNOTV3A5.mjs";import{d as $}from"https://app.framerstatic.com/chunk-GSK5BUJZ.mjs";import{ba as Ue}from"https://app.framerstatic.com/chunk-AQDW5URV.mjs";import{a as je}from"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import{b as He}from"https://app.framerstatic.com/chunk-GN2TJVO5.mjs";import{f as Ie}from"https://app.framerstatic.com/chunk-DI2RBLGE.mjs";import{Ic as Ae,Jf as Oe,Pe as Ne,Sa as Be,dg as re,eg as Me,f as Se,hb as We,ne as Le,oe as K,pf as Fe,qe as V,re as Te,se as oe,we as q,xf as ze,ye as De}from"https://app.framerstatic.com/chunk-76LQFMAH.mjs";import{g as L,i as _e,o as m}from"https://app.framerstatic.com/chunk-76EYYAZI.mjs";import{Yg as ye,Za as te,_g as Pe,_n as Re}from"https://app.framerstatic.com/chunk-6EMDOY3A.mjs";import{k as Ee}from"https://app.framerstatic.com/chunk-AQVHSVOY.mjs";import{b as j,c as H,h as A}from"https://app.framerstatic.com/chunk-FKVUZ4GS.mjs";import{g as Ce,m as ke}from"https://app.framerstatic.com/chunk-5SGVO6J4.mjs";import{a as D,b as x}from"https://app.framerstatic.com/chunk-TBB27SWX.mjs";import{t as U,y as he}from"https://app.framerstatic.com/chunk-IFLV2SXW.mjs";import{a as M}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{e as c}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var J=c(D()),Kt=(0,J.createContext)(null);function X(){let e=(0,J.useContext)(Kt);return M(e,"EngineContext not initialized"),e}var P=c(D());var ae=c(x()),T=class e{constructor(o){this.result=o;Object.assign(this,o)}isCanceled(){return!this.result.ok&&this.result.error==="cancelled"}isEmpty(){return!this.result.ok&&this.result.error==="empty"}isFiles(){return this.result.ok&&Array.isArray(this.result.value)&&this.result.value.length>0}static canceled(){return new e(ne("cancelled"))}static empty(){return new e(ne("empty"))}static files(o){return new e(Ke(o))}};function Vt(e){return e.startsWith("text")||e==="application/json"}function qt(e,o,t){let n=e/1e6;return Vt(t)?n<=o:!0}function $t({disabled:e,name:o,maxSizeInMB:t,shouldCheckFileSize:n,onMaxSizeExceeded:r,performantLimitInMB:i=5},g){let u=(0,P.useRef)(null),s=(0,P.useRef)(null),p=(0,P.useRef)(null);(0,P.useImperativeHandle)(g,()=>({show(b,d){return new Promise((h,v)=>{if(p.current){let[,w]=p.current;w(Error("Multiple calls to show()"))}p.current=[h,v],(!window.event||!window.event.isTrusted)&&console.warn("FilePicker\u2018s show() must be called from trusted event"),s.current&&(b?s.current.accept=b.join(","):s.current.removeAttribute("accept"),d?s.current.multiple=!0:s.current.removeAttribute("multiple"),s.current.click())})}}));let R=(0,P.useCallback)(b=>{if(!p.current)return;let[d]=p.current,{files:h}=b.currentTarget;if(!h||h.length===0){d(T.empty());return}let v=[];for(let w of h)t===void 0||qt(w.size,t,w.type)?(w.size/1e6>i&&w.type==="application/json"&&Y({type:"add",variant:"warning",key:"file-picker-large-file-detected",text:"Adding large files might impact your site\u2019s performance.",duration:6e3,action:{title:"OK",onClick:()=>Y({type:"remove",key:"file-picker-large-file-detected"})}}),v.push(w)):r?r(w.size/1e3):Y({type:"add",variant:"error",text:`Exceeded maximum file size of ${t} MB`});v.length>0?d(T.files(v)):d(T.empty()),u.current?.reset()},[t,r,n]),y=s.current;return(0,P.useEffect)(()=>{if(!y)return;let b=new AbortController;return y.addEventListener("cancel",()=>{if(!p.current)return;let[d]=p.current;p.current=null,d(T.canceled())},{signal:b.signal}),()=>{b.abort()}},[y]),(0,ae.jsx)("form",{ref:u,style:{display:"none"},children:(0,ae.jsx)("input",{disabled:e,name:o,onChange:R,ref:s,style:{display:"none"},type:"file"})})}var mo=(0,P.forwardRef)($t);var B=c(D());var N=[];function $e(e){(0,B.useEffect)(()=>(N=[e,...N],()=>{N=N.filter(o=>o!==e)}),[e])}function bo({globalKeyBindings:e}){let o=(0,B.useCallback)(r=>{let i=e.get(r);i&&i.action(r)},[e]),t=(0,B.useCallback)(async r=>{Ee(r)||r.clipboardData&&se(r.type,{event:r})},[]),n=(0,B.useCallback)(async r=>{if(!r.defaultPrevented){for(let i of N)if(await i(r),r.defaultPrevented)return;se(r.type,{event:r})}},[]);(0,B.useEffect)(()=>(window.addEventListener("keydown",o),window.addEventListener("copy",t,!0),window.addEventListener("cut",t,!0),window.addEventListener("paste",n,!0),window.addEventListener("touchmove",qe,{passive:!1}),()=>{window.removeEventListener("keydown",o),window.removeEventListener("copy",t,!0),window.removeEventListener("cut",t,!0),window.removeEventListener("paste",n,!0),window.removeEventListener("touchmove",qe)}),[o,n,t])}function qe(e){e.touches.length>1&&(e.preventDefault(),e.stopPropagation())}var Yt=U("inviteByEmail");async function Co(e,{email:o,role:t,permissions:n,token:r}){try{let i=await $.post(`/web/projects/${e}/acl`,{email:o,role:t,token:r,permissions:n??void 0});return{status:0,aclEntry:{...i,kind:i.pending?"invite":"user"}}}catch(i){return Z(i)?{status:1,editorLimit:i.data.editorLimit,licenseType:i.data.licenseType,teamId:i.data.teamId,teamName:i.data.teamName}:(Yt.reportError(i),{status:i instanceof Ue&&i.isTemporary?2:3})}}var Zt=U("inviteByEmail");async function _o(e,{id:o,role:t,permissions:n}){try{return await $.post(`/web/projects/${e}/acl/${o}`,{role:t,permissions:n??void 0}),{status:0}}catch(r){return Z(r)?{status:1,editorLimit:r.data.editorLimit,licenseType:r.data.licenseType,teamId:r.data.teamId,teamName:r.data.teamName}:(Zt.reportError(r),{status:2})}}function Ye(e){let o=He();if(!o)return e;let t=o(e,{preferredSize:"small"});return t||e}var k=c(D());var Ze="titleWrapper_t3p7r61",Je="title_t1ih3ztb",Xe="withPlusIcon_wkaasce",Ge="withActivePlusIcon_w1vx93q9",Qe="withOverride_wof63pb";var E=c(x());function et({title:e,className:o,displayPlusIcon:t,primaryMenuIsOpen:n,educationTooltip:r,disableTitleTooltip:i=!1,titleTooltip:g,overridden:u,...s}){return(0,E.jsxs)("div",{className:m(Ze,t&&m(Xe,(n||u)&&Ge),o),title:e===" "||i?void 0:g??e,...s,children:[t&&(0,E.jsx)(Ae,{}),(0,E.jsx)("div",{className:m(V,Je,u&&Qe),children:(0,E.jsx)(De,{children:e})}),r&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(ze,{size:_e.inputSpacing}),r]})]})}var tt="panelRowView_p1oxlfbn",ot="withReorderControl_w1xpzgm5",rt="withButtonCursor_w1chribc";var F=c(x()),G=({title:e,titleClassName:o,children:t,className:n,style:r,disableTitleTooltip:i=!1,titleTooltip:g,reorderColumnCount:u,reorderControlHidden:s,withButtonCursor:p=!1,displayPlusIcon:R=!1,isOverridden:y=!1,primaryMenuIsOpen:b=!1,onMouseDown:d,onContextMenu:h,ReorderControl:v,educationTooltip:w,..._})=>{let a=v!==void 0;a&&H(u)&&(r={...r,"--reorder-column-count":u});let W=h?{onContextMenu:h,role:"button"}:{},Q=d?{onMouseDown:d,role:"button"}:{};return(0,F.jsxs)("div",{className:m(tt,a&&ot,n,p&&rt),style:r,tabIndex:-1,...W,...Q,..._,children:[e&&(0,F.jsx)(et,{overridden:y,title:e,disableTitleTooltip:i,titleTooltip:g,className:o,displayPlusIcon:R,educationTooltip:w,onMouseDown:d,primaryMenuIsOpen:b}),t,a&&!s&&(0,F.jsx)(v,{})]})};var nt=e=>e.stopPropagation();var z="doubleColumnClass_dt2vdl5",it="doubleColumnClassForSortable_dc4gvpv",Jo="spanAllColumnClass_s1dpgfha";var gt=c(D());var st="iconWrapper_i1ab0gin",at="largeIconWrapper_l19ygcxe",tr="iconWrapperDisabled_i1mqt5la",lt="titleWrapper_t1bkmsxp",ct="truncateMargin_t1vpcft3",pt="shortcutKey_suf63yr",mt="closeWrapper_c1hu2nje",dt="largeCloseWrapper_leca1mf",le="disabled_d1ir7ssq",ut="suggestion_sojarwo";var C=c(x());function bt({innerText:e,shortcutKey:o,onDelete:t,isReadOnly:n=!1}){return e?{innerText:e}:{shortcutKey:o,onDelete:n?void 0:t}}var xt=({enabled:e,large:o,title:t,titleColor:n,shortcutKey:r,preview:i,deleteIconColor:g,swatchBackgroundColor:u,suggestion:s,onDelete:p,innerText:R})=>{let y=(0,gt.useCallback)(d=>{d.stopPropagation(),p?.()},[p]),b=Se(y);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:m(st,o&&at,e===!1&&le),style:{backgroundColor:u},children:i}),(0,C.jsxs)("div",{className:m(lt,e===!1&&le,s&&ut),style:{color:n},children:[(0,C.jsx)("span",{className:m(V,ct),children:t}),r&&(0,C.jsxs)("span",{className:pt,children:["\xA0(",r,")"]}),R]}),p&&(0,C.jsx)("div",{className:m(mt,o&&dt),...b,style:{color:g},title:"Remove",children:(0,C.jsx)(We,{})})]})};var wt="button_bwfcdld",pr="buttonLarge_b4uva9g",vt="disabled_d1xdslsy",mr="disabledWrapper_dpa1954";var ce=c(x()),ht=e=>{let o=X(),t=q(),{doubleColumn:n,sortable:r,tooltip:i,tabIndex:g=0,onDuplicate:u,onDelete:s,onPresent:p,onCopy:R,className:y,shortcutKey:b,innerText:d,...h}=e;function v(a){o.contextMenuStore?.show([{label:"Duplicate",click:u,enabled:!t,visible:!!u},{label:"Copy",click:R,visible:!!R},{label:"Remove",click:s,enabled:!t,visible:!!s}],{location:{x:a.clientX,y:a.clientY}})}let w=a=>{a.key==="Delete"&&s?.()},_=Te(g);return(0,ce.jsx)("div",{role:"button",title:i,onContextMenu:v,onClick:p,onKeyDown:w,tabIndex:e.enabled===!1?-1:_,className:m(wt,e.enabled===!1&&vt,n&&z,r&&it,Ve,y),children:(0,ce.jsx)(xt,{...h,...bt({innerText:d,shortcutKey:b,onDelete:s,isReadOnly:t})})})};var yt="imageContainer_i1oxwf0f",Pt="imageContainerDragOver_ivz66j7",pe="fullWidth_fjd4qd2",Ct="footerSeparator_f1gixrvj";var kt="preview_p1oi602g",Rt="showButtonOnHover_s1rsxqtn",Et="chooseImageButton_c17esauc";var It="wrapper_wkxdsnf",_t="largeWrapper_l2ga4t0";var Bt=c(x());function St({large:e,borderColor:o,background:t=L.tint,color:n="#fff",children:r,className:i}){let g=o?`inset 0 0 0 1px ${o}`:void 0;return(0,Bt.jsx)(Le,{className:m(It,e&&_t,i),style:{background:t,color:n,boxShadow:g},children:r})}var l=c(x()),oo=["auto","lossless","small","medium","large","full"],ro={auto:"Auto",lossless:"Auto (Lossless)",small:"Small",medium:"Medium",large:"Large",full:"Full"};function Xr({multiple:e=!1,imageReferences:o,onChangeImages:t,onRemoveImage:n,onChangeAssetSize:r,extraControls:i,altText:g=ye,onChangeAltText:u,positionX:s,positionY:p,enableFooter:R=!0,maxExtraImages:y,onEditFocalPoint:b,clearFocalPoint:d,onCropClick:h,onImageBatchUpload:v,PluginPickerButton:w}){let _=X(),a=q(),W=H(y)?y+1:void 0,[Q,de]=k.default.useState(!1),ue=k.default.useRef(null),fe=k.default.useCallback(()=>{a||t(ie.pickAndUploadImage({multiple:e,maxUploads:W}).then(Wt("upload")))},[t,a,e,W]),Lt=k.default.useCallback(f=>{(f.key==="Backspace"||f.key==="Delete")&&!a&&n?.()},[n,a]),Tt=k.default.useCallback(f=>{a||f.dataTransfer&&v&&t(v(f.dataTransfer.files,W).then(Wt("drop")))},[t,a,W,v]),Dt=k.default.useCallback(f=>{f.preventDefault(),n&&_.contextMenuStore?.show([{label:"Delete",enabled:!a,click:n}],{location:{x:f.clientX,y:f.clientY}})},[_,a,n]),Nt=k.default.useCallback(async f=>{if(a)return;let we=ue.current;if(!we||document.activeElement!==we)return;f.preventDefault();let ve=f.clipboardData;ve&&t(ie.addImages(ve.files))},[t,a]);$e(Nt);let Ft=k.default.useCallback(()=>{de(!0)},[]),zt=k.default.useCallback(()=>{de(!1)},[]),I=o[0],{fileExtensions:ge,preferredSizes:be}=io(o),xe=o.length>0,S=Re(o),Ot=j(S)&&S.length>0,O=!A(s)&&!A(p),ee=ge.has("svg"),Mt=xe&&be.size>0&&!ee,Ut=k.default.useCallback(()=>{I&&h?.(I,t)},[I,t,h]),jt=()=>{M(j(S)&&S.length>0),b?.(S,te(s)?s:void 0,te(p)?p:void 0)},Ht=I&&Ye(I);return(0,l.jsxs)(K,{direction:"column",children:[(0,l.jsxs)(Oe,{className:m(kt,I&&Rt),onDrop:Tt,onDragEnter:Ft,onDragLeave:zt,onKeyDown:Lt,onDoubleClick:fe,onContextMenu:Dt,children:[(0,l.jsx)("div",{ref:ue,tabIndex:0,className:no(Q),children:(0,l.jsx)("img",{src:Ht,alt:"",decoding:"async"})}),!a&&(0,l.jsx)(oe,{variant:"clean",title:e?"Choose Images\u2026":"Choose Image\u2026",onClick:fe,onDoubleClick:nt,className:Et})]},I),(0,l.jsxs)(K,{direction:"column",gap:0,children:[(0,l.jsx)(G,{title:"Resolution",children:(0,l.jsxs)(Me,{enabled:Mt,wrapperClassName:z,children:[(0,l.jsx)(re,{title:ge.size>1?"Mixed":"Auto",selected:!0,onSelect:je,enabled:!1,visible:ee}),!ee&&oo.map(f=>(0,l.jsx)(re,{title:ro[f],identifier:f,selected:be.has(f),onSelect:r},f))]})}),i,Pe(g)&&!A(u)&&(0,l.jsx)(G,{title:"Alt Text",children:(0,l.jsx)(Ne,{value:j(g)?g:"",onChange:u,className:z,placeholder:he(S)?"Mixed":"Describe Image\u2026",enabled:xe})}),!A(b)&&!A(d)&&(0,l.jsx)(G,{title:"Focal Point",children:(0,l.jsx)(ht,{doubleColumn:!0,onPresent:jt,enabled:Ot&&!a,onDelete:O?d:void 0,title:O?"Custom":"Add\u2026",titleColor:O?void 0:L.inputLabel,tooltip:O?"Edit Focal Point":"Add Focal Point",preview:(0,l.jsx)(St,{color:L.popupButtonPreviewIconPrimary,background:L.popupButtonPreviewIconBackground,children:(0,l.jsx)(Be,{})})})}),R&&(0,l.jsxs)(K,{direction:"row",className:Ct,children:[(0,l.jsx)("div",{className:pe,children:(0,l.jsx)(oe,{title:"Crop",enabled:!a&&!!I,onClick:Ut,className:pe})}),w&&(0,l.jsx)(w,{commonImageReference:S,onChangeImages:t,altText:g,onChangeAltText:u})]})]})]})}function no(e){let o=m(yt),t=m(o,Pt);return m(e?t:o,"wantsNativeTextAction")}function Wt(e){return o=>{let t=o[0]?Ce(o[0].filename)[1].toLowerCase():"";return Ie("insert_image",{imageExtension:t,source:`picker_${e}`}),o}}function io(e){let o=new Set,t=new Set;return e.forEach(n=>{let r=ke(n);r&&(o.add(r.preferredSize||"auto"),t.add(r.fileExtension))}),{preferredSizes:o,fileExtensions:t}}var At="loading_lbz3y5l";var me=c(x());function rn(){return(0,me.jsx)("div",{className:At,children:(0,me.jsx)(Fe,{})})}export{G as a,z as b,it as c,Jo as d,st as e,tr as f,lt as g,bt as h,xt as i,wt as j,pr as k,mr as l,Kt as m,X as n,ht as o,St as p,Ye as q,$e as r,bo as s,nt as t,Xr as u,io as v,mo as w,Co as x,_o as y,rn as z};
//# sourceMappingURL=https://app.framerstatic.com/chunk-4KWXHJXI.mjs.map
