import{j as l}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var y=(r=>(r.Google="google",r.Fontshare="fontshare",r.Framer="framer",r.Local="local",r.Custom="custom",r.BuiltIn="builtIn",r))(y||{});function b(e){return e.weight!==void 0&&e.style!==void 0}function u(e){return!!(e&&Array.isArray(e))}function m(e){if(!e||!Array.isArray(e))return;let t=[];for(let a of e)V(a)&&t.push({tag:a.tag,name:a.name,minValue:a.minValue,maxValue:a.maxValue,defaultValue:a.defaultValue});return t}function f(e){return!(typeof e!="object"||e===null||!("tag"in e)||typeof e.tag!="string"||"coverage"in e&&typeof e.coverage<"u"&&!Array.isArray(e.coverage))}function V(e){return!(typeof e!="object"||e===null||!("tag"in e)||typeof e.tag!="string"||"name"in e&&typeof e.name!="string"||!("minValue"in e)||typeof e.minValue!="number"||!("maxValue"in e)||typeof e.maxValue!="number"||!("defaultValue"in e)||typeof e.defaultValue!="number")}var p="CUSTOM;";function x(e,t){if(!t)return e.substring(0,e.lastIndexOf("."));let{font:a}=t,n=a.preferredFamily||a.fontFamily,o=Array.isArray(a.variationAxes);if(o&&n.toLowerCase().includes("variable"))return n;let s=o?"Variable":(a.preferredSubFamily||a.fontSubFamily).trim();return s===""?n:`${n} ${s}`}var F=class{constructor(){l(this,"name","custom");l(this,"fontFamilies",[]);l(this,"byFamilyName",new Map);l(this,"assetsByFamily",new Map)}importFonts(t){this.fontFamilies.length=0,this.byFamilyName.clear(),this.assetsByFamily.clear();let a=[];for(let n of t){if(!this.isValidCustomFontAsset(n))continue;let o=n.properties?.font.variationAxes,s=Array.isArray(o),r=x(n.name,n.properties),i=this.createFontFamily(r),c=n.properties?.font.openTypeData,d=s?"variable":this.inferVariantName(r),g={family:i,selector:`${p}${r}`,variant:d,postscriptName:n.properties?.font.postscriptName,file:n.url,hasOpenTypeFeatures:u(c),variationAxes:m(o)};i.fonts.push(g),i.owner=n.ownerType==="team"?"team":"project",this.assetsByFamily.set(r,n),a.push(...i.fonts)}return a}isValidCustomFontAsset(t){return!t.mimeType.startsWith("font/")||t.properties?.kind!=="font"||!t.properties.font?!1:"fontFamily"in t.properties.font}getOpenTypeFeatures(t){let n=this.assetsByFamily.get(t)?.properties?.font?.openTypeData;return u(n)?n?.map(o=>{if(f(o))return{tag:o.tag,coverage:o.coverage}}):[]}inferVariantName(t){let a=["thin","ultra light","extra light","light","normal","medium","semi bold","bold","extra bold","black"],n=[...a.map(i=>`${i} italic`),...a],o=t.toLowerCase(),s=[...o.split(" "),...o.split("-"),...o.split("_")],r=n.find(i=>s.includes(i)||s.includes(i.replace(/\s+/gu,"")));return r?r.replace(/^\w|\s\w/gu,i=>i.toUpperCase()):"Regular"}createFontFamily(t){let a=this.byFamilyName.get(t);if(a)return a;let n={source:this.name,name:t,fonts:[]};return this.addFontFamily(n),n}addFontFamily(t){this.fontFamilies.push(t),this.byFamilyName.set(t.name,t)}parseSelector(t){if(!t.startsWith(p))return null;let a=t.split(p);return a[1]===void 0?null:{source:"custom",name:a[1]}}getFontBySelector(t,a=!0){let n=this.parseSelector(t);if(!n||!a&&!this.byFamilyName.get(n.name))return;let o=this.getFontFamilyByName(n.name).fonts;return o.find(r=>r.file?.endsWith(".woff2"))||o[0]}getFontFamilyByName(t){let a=this.byFamilyName.get(t);if(a)return a;let n={source:"custom",name:t,fonts:[]};return n.fonts.push({selector:`${p}${t}`,variant:this.inferVariantName(t),family:n}),n}};export{u as a,m as b,f as c,y as d,b as e,p as f,x as g,F as h};
//# sourceMappingURL=https://app.framerstatic.com/chunk-3EMOIMOE.mjs.map
