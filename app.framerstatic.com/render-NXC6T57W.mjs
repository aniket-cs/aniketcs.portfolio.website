import"https://app.framerstatic.com/chunk-LIUBO4UK.mjs";import{a as Ee}from"https://app.framerstatic.com/chunk-ZHTDLA2D.mjs";import{a as bt}from"https://app.framerstatic.com/chunk-E5XQBAUL.mjs";import{a as Ct,c as wt}from"https://app.framerstatic.com/chunk-4GIPQ76B.mjs";import"https://app.framerstatic.com/chunk-JC4C73UI.mjs";import"https://app.framerstatic.com/chunk-FCSCHDFW.mjs";import{m as ht,n as kt,u as _t,w as St,z as vt}from"https://app.framerstatic.com/chunk-ESK55LPY.mjs";import"https://app.framerstatic.com/chunk-6HTGFFLP.mjs";import{A as gt,B as ft,d as at,m as ct,n as lt,o as pt,q as mt,r as ut,s as dt,z as yt}from"https://app.framerstatic.com/chunk-I7SPNXUA.mjs";import{c as et,d as tt,e as rt,f as nt}from"https://app.framerstatic.com/chunk-3R5D275C.mjs";import{e as it}from"https://app.framerstatic.com/chunk-JH5MMDIU.mjs";import"https://app.framerstatic.com/chunk-B2X7EA3W.mjs";import"https://app.framerstatic.com/chunk-KMVARZBV.mjs";import{b as E}from"https://app.framerstatic.com/chunk-VH2BJYMI.mjs";import"https://app.framerstatic.com/chunk-3MO6XY3C.mjs";import"https://app.framerstatic.com/chunk-7RB3HSQN.mjs";import"https://app.framerstatic.com/chunk-YE25YANI.mjs";import"https://app.framerstatic.com/chunk-3OXBJ3KU.mjs";import"https://app.framerstatic.com/chunk-C5M7SI2S.mjs";import"https://app.framerstatic.com/chunk-D7MEQ7Y3.mjs";import"https://app.framerstatic.com/chunk-FCBJ6E5K.mjs";import"https://app.framerstatic.com/chunk-HUEUSRHK.mjs";import"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import"https://app.framerstatic.com/chunk-CAUAYXS6.mjs";import{a as st}from"https://app.framerstatic.com/chunk-GN2TJVO5.mjs";import{j as Ae}from"https://app.framerstatic.com/chunk-SWUA2LSF.mjs";import"https://app.framerstatic.com/chunk-DFROAS2I.mjs";import{e as Ve,f as S}from"https://app.framerstatic.com/chunk-HSPWRDOA.mjs";import"https://app.framerstatic.com/chunk-V4TANWPK.mjs";import{b as Ot}from"https://app.framerstatic.com/chunk-A7I3U7CO.mjs";import{Ac as Je,G as De,Me as Qe,Uf as He,Vf as $e,_a as se,ke as Ue,oe as g,se as W}from"https://app.framerstatic.com/chunk-6INDTJTG.mjs";import"https://app.framerstatic.com/chunk-XGLOP55A.mjs";import{a as xt}from"https://app.framerstatic.com/chunk-UDBCXUTA.mjs";import{o as Te}from"https://app.framerstatic.com/chunk-76EYYAZI.mjs";import{Ga as Fe,Ha as Ye,nd as O}from"https://app.framerstatic.com/chunk-GE36N6PX.mjs";import{Ts as je,pb as Ze,tb as _}from"https://app.framerstatic.com/chunk-W7J4CMD7.mjs";import"https://app.framerstatic.com/chunk-VXJAAVJQ.mjs";import"https://app.framerstatic.com/chunk-5DSVU7DA.mjs";import"https://app.framerstatic.com/chunk-KD4H3DLZ.mjs";import"https://app.framerstatic.com/chunk-4DUBS6C5.mjs";import{a as ot}from"https://app.framerstatic.com/chunk-K2TY2TEO.mjs";import"https://app.framerstatic.com/chunk-AQVHSVOY.mjs";import"https://app.framerstatic.com/chunk-3EMOIMOE.mjs";import"https://app.framerstatic.com/chunk-XFC6OVIX.mjs";import{a as re,b as ne}from"https://app.framerstatic.com/chunk-4AQCMAAQ.mjs";import"https://app.framerstatic.com/chunk-DGJGMS5V.mjs";import"https://app.framerstatic.com/chunk-AFOGWSLD.mjs";import"https://app.framerstatic.com/chunk-AUNF3KWQ.mjs";import"https://app.framerstatic.com/chunk-XBSXWSVA.mjs";import"https://app.framerstatic.com/chunk-POQKH4YA.mjs";import{b as we}from"https://app.framerstatic.com/chunk-FKVUZ4GS.mjs";import{f as Ke,j as Re,l as Ie,o as Pe,p as Le}from"https://app.framerstatic.com/chunk-5SGVO6J4.mjs";import{Dd as Co,Jc as v,a as M,b as l,i as ie}from"https://app.framerstatic.com/chunk-TBB27SWX.mjs";import"https://app.framerstatic.com/chunk-N5OTLEHJ.mjs";import{d as We}from"https://app.framerstatic.com/chunk-CNUIA4VA.mjs";import"https://app.framerstatic.com/chunk-ONYSHV6S.mjs";import{k as B,o as Xe,t as oe}from"https://app.framerstatic.com/chunk-IFLV2SXW.mjs";import{a as u}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{a as X}from"https://app.framerstatic.com/chunk-DFNFZLDR.mjs";import{e as a,j as s,k as $,l as ee,m as te}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var Oo=a(M());function Z(t){return window.editorBarFeatures[t]}var K="EDITOR_BAR_DEVICE_PREFERENCE",Ge="EDITOR_BAR_MENU_SEEN";async function ae({awaitOnBeginSizeMeasuring:t=!0,onAbleToDraw:r,padding:e=0,ref:o}){let n=({width:p,height:k,padding:N=0})=>{let Ce=`calc(50% - ${k/2+N}px)`,So="0%",vo=`calc(50% - ${k/2+N}px)`,bo=`calc(100% - ${p+N*2}px)`;return`inset(${Ce} ${So} ${vo} ${bo})`},i=o;if(!i)return;window.parent.postMessage({apiVersion:1,type:"beginSizeMeasuring"},"*"),t&&await Gt(document.body),r&&(r(),await Gt(i));let c=i.getBoundingClientRect(),m=n({width:Math.ceil(c.width),height:Math.ceil(c.height),padding:e});window.parent.postMessage({apiVersion:1,type:"updateStyle",clipPath:m},"*")}async function Gt(t){let r=t.offsetWidth,e=t.offsetHeight,o=5e3,n=100;return new Promise(i=>{let c=window.setTimeout(()=>{p.disconnect(),i()},o),m=Ze(()=>{clearTimeout(c),p.disconnect(),i()},n),p=new ResizeObserver(()=>{(t.offsetWidth!==r||t.offsetHeight!==e)&&m()});p.observe(t)})}var ce=class extends O{constructor(e){super();this.getAccess=e;s(this,"_navigationState","Initializing");s(this,"_isMenuOpen",!localStorage.getItem(Ge));s(this,"isMouseHoveringMenu",!1);s(this,"layoutRef");this.isMenuOpen&&this.scheduleMenuAutoClose()}get navigationState(){return this._navigationState}get isMenuOpen(){return this._isMenuOpen}registerLayoutRef(e){this.layoutRef=e,ae({ref:e,padding:30})}async navigate(e){e!==this._navigationState&&(this.layoutRef?await ae({awaitOnBeginSizeMeasuring:!1,ref:this.layoutRef,onAbleToDraw:()=>{this._navigationState=e},padding:30}):this._navigationState=e)}async setMenuOpen(e){if(u(this.layoutRef,"Must registerLayoutRef before calling OnPageNavigationStore.navigate"),e&&this.navigationState==="SelectAppPreference"&&Mt()){let o=this.getAccess();o&&(this._navigationState=Ne(o))}await ae({awaitOnBeginSizeMeasuring:!1,ref:this.layoutRef,onAbleToDraw:()=>{this._isMenuOpen=e},padding:e?30:0})}async toggleMenuOpen(){await this.setMenuOpen(!this.isMenuOpen)}scheduleMenuAutoClose(){setTimeout(()=>{localStorage.setItem(Ge,"true"),this.isMouseHoveringMenu||this.setMenuOpen(!1)},2e3)}};function Ne(t){switch(t.status){case"no-auth":return"Guest";case"success":return Mt()?"Menu":"SelectAppPreference";case"unknown":return"CookiePrompt";case"error":return"Error";case"no-access":return"NoAccess";default:ne(t)}}function Mt(){let t=localStorage.getItem(K);return t==="browser"||t==="app"}var le=class extends O{constructor(e,o,n){super();this.navigationStore=e;this.projectStore=o;this.siteId=n;s(this,"_access")}get access(){return u(this._access,"Access not initialized"),this._access}get canEditContent(){let e=this.access;return e.status!=="success"?!1:e.data.permissions?.canEditContent==="on"}get shouldRenderOnPageCanvas(){return this.canEditContent&&Z("editorBarOnPageEditing")}async set(e){this._access=e;let o=Ne(e);if(await this.navigationStore.navigate(o),this.shouldRenderOnPageCanvas){let n=Go(e);e.userId&&n&&this.projectStore.loadProject(e.userId,n)}Ve.setUserId(e.userId??"null")}async refresh(){let e=await bt(this.siteId);await this.set(e)}},wo=/^.+--(?<id>[a-z0-9]+)(?:-[a-z0-9]+)?$/iu;function Go(t){if(t.status==="success")return wo.exec(t.data.projectSlug)?.groups?.id}var pe=class extends O{constructor(){super();s(this,"_nodeId",new URLSearchParams(window.location.search)?.get("nodeId")??"");let e=({data:o})=>{typeof o!="object"||!o||!("apiVersion"in o)||o.apiVersion===1&&"type"in o&&o.type==="updateNodeId"&&"nodeId"in o&&typeof o.nodeId=="string"&&(this._nodeId=o.nodeId)};window.addEventListener("message",e)}get nodeId(){return this._nodeId}};var me=class extends O{constructor(e){super();this.accessStore=e;s(this,"isLoginInProgress",!1)}login(){let e=window.open(`${X().login}?closeAfterSuccess=true`,"_blank");return e?this.startLoginWindowClosedPolling(e):Promise.resolve()}startLoginWindowClosedPolling(e){return this.isLoginInProgress=!0,new Promise(n=>{let i=setInterval(async()=>{e.closed&&(clearInterval(i),await this.accessStore.refresh(),this.isLoginInProgress=!1,n())},500)})}};var V=oe("RemoteConnection"),zt=1e3,ue=class extends E{constructor(e){super();s(this,"isReconnect",!1);s(this,"messageQueue",[]);s(this,"baseURL");s(this,"socket");s(this,"stats");this.baseURL=wt(e)}createPingInterval(e,o){return setInterval(()=>{if(u(this.socket===e,"Invalid socket"),u(this.stats===o,"Invalid stats"),performance.now()-o.lastSend()<zt||o.pendingCount("ping")>0)return;let n="ping {}";e.send(n),o.sent("ping",n)},zt)}connect(e){if(this.socket)return;let o=new URL(this.baseURL);o.searchParams.set("v",String(lt)),o.searchParams.set("tunnel",ot()??""),o.searchParams.set("treeSchema",String(Ae)),o.searchParams.set("treeVersion",String(e));let n=new WebSocket(o),i=new ct;this.socket=n,this.stats=i,V.debug("Connecting:",n.url);let c;n.addEventListener("open",()=>{u(this.socket===n,"Invalid socket"),u(this.stats===i,"Invalid stats"),V.debug("Connected:",n.url),c=this.createPingInterval(n,i),this.emit("connect",this.isReconnect),this.isReconnect=!0,this.flushMessageQueue(n,i)}),n.addEventListener("message",m=>{u(this.socket===n,"Invalid socket"),u(this.stats===i,"Invalid stats");let p=m.data,k=ut(p);if(i.received(p),k.type==="ack")return i.acked();k.type==="redirect"&&(this.baseURL=k.value.url),V.trace("Received:",k),this.emit("message",k)}),n.addEventListener("close",m=>{u(this.socket===n,"Invalid socket"),u(this.stats===i,"Invalid stats"),clearInterval(c);let p=mt(m);V.debug("Disconnected:",p),this.socket=void 0,this.stats=void 0,this.emit("disconnect",p)})}disconnect(){this.socket?.close()}flushMessageQueue(e,o){if(e.readyState===WebSocket.OPEN){for(let{type:n,value:i}of this.messageQueue)try{let c=JSON.stringify(i),m=`${n} ${c}`;e.send(m),o.sent(n,m)}catch(c){V.warn("Error sending:",n,c)}this.messageQueue.length=0}}send(e){this.messageQueue.push(e),this.socket&&this.stats&&this.flushMessageQueue(this.socket,this.stats)}};var de=class extends E{constructor(e){super();this.projectId=e;s(this,"treeSync",new ft);s(this,"cache");s(this,"remoteTreeUpdates",[]);s(this,"documentLoader");this.treeSync.waitingForTree=!0,this.cache=new dt(this.projectId)}get timeline(){return this.treeSync.timeline}get tree(){return this.treeSync.tree}handleTreeMessage(e){if(e.type!=="init")return;let o=X();this.treeSync.handleInit(e.data.treeVersion,e.data.initialUpdates,new URL(e.data.file,o.app).href,this.downloadDocument.bind(this))}handleTreeUpdate(e){this.treeSync.waitingForTree?this.remoteTreeUpdates.push(e):(this.treeSync.handleRemoteUpdate(e),this.emit("update",this.tree))}downloadDocument(e,o){u(this.treeSync.waitingForTree,"Must be waiting for tree"),this.documentLoader&&(this.documentLoader.scheduler.cancel(),this.documentLoader.removeAllListeners());let n={partialParsing:!0,loadInBackground:!0,async refreshAccessToken(c){return{...c,credentials:"include"}}},i=new yt(this.cache,o,e,n);this.documentLoader=i,i.on("loadedSomeData",(c,m)=>{i.pauseLoadingScopes();let p={initialChanges:m,isLoading:!0};this.treeSync.setTree(c,o,p);for(let k of this.remoteTreeUpdates)this.treeSync.handleRemoteUpdate(k);this.remoteTreeUpdates.length=0,this.emit("update",this.tree)}),i.on("loadedAllData",()=>{this.timeline.loadedAllScopes(),this.emit("update",this.tree)}),i.on("loadedScope",c=>{this.timeline.loadOneScope(c),this.emit("update",this.tree)}),i.start().catch(B)}};var No=oe("remote:project"),ye=class extends E{constructor(e,o){super();this.userId=e;this.projectId=o;s(this,"_localModules",[]);s(this,"connection");s(this,"document");s(this,"api");s(this,"assetService");s(this,"reconnectTimeout");this.connection=new ue(this.projectId),this.document=new de(this.projectId),this.api=new Ct(this.connection,this.projectId),this.assetService=new Ke(this.api),this.connection.on("connect",this.onConnect,this),this.connection.on("disconnect",this.onDisconnect,this),this.connection.on("message",this.onMessage,this),this.refreshLocalModules().catch(B),this.assetService.refresh().catch(B)}get localModules(){return this._localModules}set localModules(e){this._localModules=e,this.emit("localModulesUpdate",e)}connect(){let e=this.document.treeSync.treeVersion;this.connection.connect(e)}disconnect(){this.cancelReconnect(),this.connection.disconnect()}maybeSend(){let e=this.document.treeSync,o=e.createUpdateToSend(),n=e.localUpdatesInFlight.length;o&&(No.debug("sending update:",n,o.changes.length,o.reasons),this.connection.send({type:"treeUpdate",value:gt(o)}))}cancelReconnect(){clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}scheduleReconnect(e){this.cancelReconnect(),this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=void 0,this.connect()},e)}onConnect(e){e&&this.refreshLocalModules().catch(B)}onDisconnect(e){if(pt(e)){let o=Mo(e);this.scheduleReconnect(o)}}onMessage(e){switch(e.type){case"treeMessage":return this.document.handleTreeMessage(e.value);case"treeUpdate":return this.document.handleTreeUpdate(e.value);case"moduleEvents":return this.refreshLocalModules();case"notifyProjectChange":return e.value.scope!=="assets"?void 0:this.assetService.refresh()}}async refreshLocalModules(){let e=await this.api.listModules();this.localModules=e.data}};function Mo(t){return t==="ReconnectToNewServer"?25:1e3}var qt=a(M());var ge=class extends O{constructor(e){super();this.onProjectLoad=e;s(this,"project");s(this,"_localModules",[]);s(this,"_tree");s(this,"_assets",[]);s(this,"filePickerRef",(0,qt.createRef)())}get assetsService(){return this.project?.assetService}get timeline(){return this.project?.document.timeline}get localModules(){return this._localModules}get tree(){return this._tree}get assets(){return this._assets}get resourceLimits(){}get projectLicenseType(){return"freeSite"}loadProject(e,o){this.project||(this.project=new ye(e,o),this.project.connect(),this.project.document.on("update",n=>{this._tree=n}),this.project.on("localModulesUpdate",n=>{this._localModules=n}),Pe(this.project.assetService,n=>{n.assets&&(this._assets=n.assets)}),this.onProjectLoad(this.project.api))}commitTreeAndSend(){u(this.project&&this.timeline,"Project must be initialized"),this._tree=this.timeline.commitLocalTree(),this.project?.maybeSend()}};var T,D,J,fe=class extends O{constructor(e,o){super();this.activeRouteStore=e;this.projectStore=o;s(this,"config",rt.onPageCanvas);s(this,"partialTreeSender");s(this,"iframe");s(this,"sandboxService");s(this,"_layoutMeasurements");ee(this,T);ee(this,D);ee(this,J);window.addEventListener("scroll",()=>{let n=this.sandboxService;n&&n.scrollTo({behavior:"instant",top:window.scrollY})})}get layoutMeasurements(){return this._layoutMeasurements}loadSandbox(){if(this.iframe)return;let e=document.createElement("iframe");e.src=this.config.url,e.allow=Ot("canvas"),e.sandbox.add("allow-scripts","allow-same-origin"),e.tabIndex=-1,e.style.border="none",e.style.position="fixed",e.style.top="-100vh",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.pointerEvents="none";let o=this.initializeSandbox.bind(this,e);e.addEventListener("load",o),document.body.append(e),this.iframe=e}async initializeSandbox(e){let o=e.contentWindow;u(o,"Sandbox didn't load correctly");let n=new We(o,this.config.origin),i=await Ee.on(n).discover();this.sandboxService=i,i.nodeMeasurementStream().read(c=>{this._layoutMeasurements=c.layoutMeasurements}),i.canvasSizeStream().read(c=>{document.body.style.height=c.height+"px"})}update(){let e=this.sandboxService;if(!e)return;let o=this.projectStore.timeline;if(!o)return;let n={},i=this.activeRouteStore.nodeId;i!==$(this,T)&&(te(this,T,i),n.webPageNodeId=i);let c=this.projectStore.localModules;c!==$(this,D)&&(te(this,D,c),n.localModules=c);let m=this.projectStore.assets;m!==$(this,J)&&(te(this,J,m),n.assets=m),this.partialTreeSender??=new nt(o,"canvas");let p=this.partialTreeSender.update(i);Xe(p)||(n.partialTreeUpdate=p),e.update({unsafeUpdate:n})}hide(){u(this.iframe,"Sandbox not loaded"),this.iframe.style.top="-100vh"}show(){u(this.iframe,"Sandbox not loaded"),this.iframe.style.top="0"}};T=new WeakMap,D=new WeakMap,J=new WeakMap;var R=class{constructor(r){this.siteId=r;s(this,"navigationStore");s(this,"projectStore");s(this,"activeRouteStore");s(this,"accessStore");s(this,"loginStore");s(this,"sandboxStore");s(this,"modalStore");s(this,"assetMap",new Re);s(this,"inRendering",!1);s(this,"changes",new tt);s(this,"runWhenIdle",r=>{throw new Error("Not implemented")});this.navigationStore=ce.new(this,()=>this.accessStore.access),this.projectStore=ge.new(this,e=>{u(this.webAssetsService,"assetsService must be initialized"),at(this,this.webAssetsService,this.projectStore.filePickerRef),it(e,this.webAssetsService)}),this.activeRouteStore=pe.new(this),this.accessStore=le.new(this,this.navigationStore,this.projectStore,this.siteId),this.loginStore=me.new(this,this.accessStore),this.sandboxStore=fe.new(this,this.activeRouteStore,this.projectStore),this.modalStore=et.new(this)}get webAssetsService(){return this.projectStore.assetsService}signalChanges(r){this.changes.addChanges(r),this.changes.signalObserversFor(r),this.sandboxStore.update()}process(r){throw new Error("Not implemented")}processWhenReady(r){throw new Error("Not implemented")}async processWhenReadyAsync(r){throw new Error("Not implemented")}runBeforeNextFrame(r){throw new Error("Not implemented")}runWithFullyLoadedTree(r,e){throw new Error("Not implemented")}signalNonUserEvent(){throw new Error("Not implemented")}};function f(){let t=kt();return u(t instanceof R,"useOnPageEngine needs the provided context to be an OnPageEngine"),t}var Ft=a(M()),Yt=a(Co());var I=a(M());var Bt="hud_hiorwhu",Xt="nodeHud_n1lne74r",Wt="imagePopout_irdv13k",Et="imagePopoutArrow_i13udebu";var h=a(l());function Zt(){let t=f(),{tree:r}=t.projectStore.useState(),{layoutMeasurements:e}=t.sandboxStore.useState(),o=(0,I.useCallback)(t.projectStore.commitTreeAndSend.bind(t.projectStore),[]);if(r)return(0,h.jsx)("div",{className:Bt,children:e?.map(n=>{let i=r.get(n.nodeId);return i?(0,h.jsx)(Bo,{measurement:n,node:i,onCommitTree:o},n.nodeId):null})})}function Bo({measurement:t,node:r,onCommitTree:e}){let o=Xt,n={height:`${t.layoutMetrics.height}px`,left:`${t.layoutMetrics.x}px`,top:`${t.layoutMetrics.y}px`,width:`${t.layoutMetrics.width}px`};return je(r)&&we(r.fillImage)?(0,h.jsx)(Eo,{className:o,node:r,style:n,onCommitTree:e}):null}var Xo=["right","left"],Wo={x:15,y:0};function Eo({className:t,node:r,style:e,onCommitTree:o}){let[n,i]=(0,I.useState)(!1),c=(0,I.useRef)(null);re(we(r.fillImage),"Variable references are not supported yet");let m=r.fillImage;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:t,style:e,onClick:()=>i(!0),onKeyDown:()=>i(!0),role:"button",tabIndex:0,ref:c}),n&&(0,h.jsxs)(Qe,{anchor:c.current,alignSelf:"start",attachTo:Xo,offset:Wo,onClose:()=>i(!1),showArrow:!0,arrow:{anchor:c.current,alignSelf:"center",className:Et,offset:25},fallbackToModalAppearance:!0,backdropTintEnabled:!1,children:[(0,h.jsx)(He,{disableDivider:!0,onClose:()=>i(!1),children:(0,h.jsx)($e,{title:"Image"})}),(0,h.jsx)("div",{className:Wt,children:(0,h.jsx)(_t,{altText:Ye(r)?r.altAttribute:"",enableFooter:!1,imageReferences:[m],maxExtraImages:0,onChangeAltText:p=>{Fe(r)&&(r.set({altAttribute:p}),o())},onChangeAssetSize:p=>{r.set({fillImage:Le(m,p)}),o()},onChangeImages:p=>{p.then(k=>{let N=k[0];if(!N)return;let Ce=Ie(N.filename,null,N.originalFilename);r.set({fillImage:Ce}),o()})},onCropClick:()=>{},onImageBatchUpload:()=>Promise.resolve([]),onRemoveImage:()=>{}})})]})]})}var At=a(M());var Kt="toolbar_t49i6vy",Rt="onPageEditingChip_ojwo6qr",It="mainContent_m1qwl3y9",Pt="finishEditingButton_f1wta5up";var z=a(l());function jt(){let[t,r]=(0,At.useState)(0);return(0,z.jsxs)("div",{className:Kt,children:[(0,z.jsxs)("span",{className:Rt,children:[(0,z.jsx)(se,{height:14,"aria-hidden":"true"}),"On-Page Editing"]}),(0,z.jsx)("span",{className:It,children:"Click on any content to edit"}),(0,z.jsx)(W,{className:Pt,onClick:()=>r(e=>e+1),children:Lt[t%Lt.length]})]})}var Lt=["Finish Editing","Jk you can't","Pranked","Seriously stop trying","We haven't implemented this","Welcome to the Hotel California","You can check out any time you like","But you can never leave"];var w=a(l());function Vt({hidden:t}){let r=f();if((0,Ft.useEffect)(()=>{t?r.sandboxStore.hide():r.sandboxStore.show()},[r,t]),!t)return(0,Yt.createPortal)((0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Zt,{}),(0,w.jsx)(jt,{}),(0,w.jsx)(St,{ref:r.projectStore.filePickerRef})]}),document.body)}var Tt="button_blajnuz",Dt="open_o1r4uh58",Jt="logo_lbr5chv";var P=a(l());function L({width:t=10,height:r=10,className:e}){return(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,fill:"none",className:e,"aria-hidden":"true",children:(0,P.jsxs)("g",{transform:"translate(2 2)",children:[(0,P.jsx)("path",{d:"M 0 0 L 6 6",fill:"transparent",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,P.jsx)("path",{d:"M 0 6 L 6 0",fill:"transparent",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})}var xe=a(l());function Ut({open:t,hidden:r,onClick:e}){return(0,xe.jsx)(g,{className:_(Tt,t&&Dt),direction:"row",alignItems:"center",justifyContent:"center",style:{display:r?"none":void 0},onClick:e,role:"button","aria-label":`${t?"Close":"Open"} Framer Menu`,children:t?(0,xe.jsx)(L,{}):(0,xe.jsx)(se,{className:Jt,height:16,"aria-hidden":"true"})})}var he="container_c1amlb55",Qt="textContainer_t1noknjc",Ht="title_t14vtnbc",$t="subtitle_swpufyq",ke="button_b9jl8lf",eo="item_iptse9g",to="menuRowText_m187n6fv",oo="divider_dirdjeq",q="iconSquare_ijjgtbz",U="buttonsContainer_bxgjdid";var d=a(l());function A({children:t,onClick:r}){return(0,d.jsx)("button",{type:"button",className:eo,onClick:r,children:(0,d.jsx)("span",{className:to,children:t})})}function j({children:t,onClick:r,disabled:e,layoutId:o,duration:n}){return(0,d.jsx)(v.div,{layout:"position",layoutId:o,style:{width:"100%"},transition:{duration:n,type:"spring",bounce:.2,delay:0},children:(0,d.jsx)(W,{type:"button",className:ke,onClick:r,enabled:!e,children:t})})}function b({logo:t,title:r,subtitle:e,buttons:o,showLearnMoreAndHideEditorBarButtons:n,customClassNames:i}){let c=f(),m=()=>{window.open("https://www.framer.com/help/articles/page-edit","_blank"),c.navigationStore.setMenuOpen(!1)},p=()=>{S("editor_bar_interaction",{page:"editor-bar-menu",id:"editor-bar-hide"}),window.parent.postMessage({apiVersion:1,type:"editorBarHidden"},"*")};return(0,d.jsxs)(g,{className:_(he,i?.container),justifyContent:"center",alignItems:"center",children:[(0,d.jsxs)(g,{className:_(Qt,i?.textContainer),gap:15,alignItems:"center",justifyContent:"center",children:[t,(0,d.jsxs)(g,{gap:5,alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(v.span,{layout:!0,className:_(Ht,i?.title),children:r}),(0,d.jsx)(v.p,{layout:!0,className:_($t,i?.subtitle),children:e})]})]}),o?(0,d.jsx)(g,{className:_(U,i?.buttonsContainer),gap:10,children:o}):null,n?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("hr",{className:_(oo,i?.divider)}),(0,d.jsxs)(g,{className:_(U,i?.buttonsContainer),gap:2,children:[(0,d.jsxs)(A,{onClick:m,children:[(0,d.jsx)(g,{className:_(q,i?.iconSquare),children:(0,d.jsx)(Ue,{})}),"Learn More"]}),(0,d.jsxs)(A,{onClick:p,children:[(0,d.jsx)(g,{className:_(q,i?.iconSquare),children:(0,d.jsx)(L,{})}),"Hide Button"]})]})]}):null]})}var G="https://app.framerstatic.com/framer-logo-blue-23OMXQLR.png";var Se=a(l());function ro(){let t=f();async function r(){S("editor_bar_interaction",{page:"editor-bar-cookie-prompt",id:"editor-bar-allow-cookies"});try{await document.requestStorageAccess()}finally{await t.accessStore.refresh()}}return(0,Se.jsx)(b,{logo:(0,Se.jsx)("img",{decoding:"async",width:36,src:G,alt:"Framer Logo"}),title:"Page Edit",subtitle:"You need to grant additional permissions to edit the site",buttons:(0,Se.jsx)(W,{className:ke,onClick:r,children:"Grant Permissions"}),showLearnMoreAndHideEditorBarButtons:!0})}var no="loginButtonLoading_l4nhz4u";var F=a(l());function io(){let t=f(),{isLoginInProgress:r}=t.loginStore.useState();async function e(){S("editor_bar_interaction",{page:"editor-bar-guest-page",id:"editor-bar-login"}),await t.loginStore.login()}return(0,F.jsx)(b,{logo:(0,F.jsx)("img",{decoding:"async",width:36,height:36,src:G,alt:"Framer Logo"}),title:"Page Edit",subtitle:"Edit pages in one click",buttons:(0,F.jsx)(j,{onClick:e,disabled:r,children:r?(0,F.jsx)("div",{className:no,children:(0,F.jsx)(vt,{})}):"Continue"}),showLearnMoreAndHideEditorBarButtons:!0})}var Q=a(l());function so(t){return(0,Q.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"none","aria-hidden":"true",...t,children:[(0,Q.jsx)("path",{d:"M8.5 1.5a1.41 1.41 0 0 1 2 0h0c.55.55.55 1.45 0 2L3 11H1V9Z",strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Q.jsx)("path",{d:"M7 11h4",fill:"transparent",strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round"})]})}var ze=a(l());function ao(t){return(0,ze.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"14",fill:"none","aria-hidden":"true",...t,children:(0,ze.jsx)("path",{d:"M4.33 5.33H0v4.34L4.33 14V9.67h4.34ZM0 1h8.67v4.33H4.33Z",fill:"currentColor"})})}var co="container_cs4bcfd",lo="containerWithOnPageEditing_ctwsnmx",po="containerWithoutOnPageEditing_cauv9zl";var x=a(l());function uo({projectSlug:t}){let r=localStorage.getItem(K)==="app",e=f(),{canEditContent:o,shouldRenderOnPageCanvas:n}=e.accessStore.useState();function i(){window.parent.postMessage({apiVersion:1,type:"enterFullscreen"},"*"),e.navigationStore.navigate("Canvas")}function c(){S("editor_bar_interaction",{page:"editor-bar-project-page",id:"editor-bar-open-project"});let p=`${X().app}/projects/${t}?node=${e.activeRouteStore.nodeId}`;r?window.open(`https://www.framer.com/open-in-app?url=${encodeURIComponent(p)}`,"_blank"):window.open(p,"FramerStudio"),e.navigationStore.setMenuOpen(!1)}let m=()=>{S("editor_bar_interaction",{page:"editor-bar-project-page",id:"editor-bar-hide"}),window.parent.postMessage({apiVersion:1,type:"editorBarHidden"},"*")};return(0,x.jsx)(g,{className:Te(he,co,Z("editorBarOnPageEditing")?lo:po),justifyContent:"center",alignItems:"center",children:(0,x.jsxs)(g,{className:U,gap:2,children:[n&&(0,x.jsxs)(A,{onClick:i,children:[(0,x.jsx)(g,{className:q,children:(0,x.jsx)(so,{})}),"Edit on Page"]}),(0,x.jsxs)(A,{onClick:c,children:[(0,x.jsx)(g,{className:q,children:r?(0,x.jsx)(ao,{}):(0,x.jsx)(Je,{"aria-title":"Open in New Tab"})}),o?(0,x.jsx)(x.Fragment,{children:n?"Edit in Framer":"Edit Page"}):"View Page"]}),(0,x.jsxs)(A,{onClick:m,children:[(0,x.jsx)(g,{className:q,children:(0,x.jsx)(L,{})}),"Hide"]})]})})}var qe=a(l());function yo(){return(0,qe.jsx)(b,{logo:(0,qe.jsx)("img",{decoding:"async",width:36,src:G,alt:"Framer Logo"}),title:"Page Edit",subtitle:"To edit, ask the site owner for access to the project",showLearnMoreAndHideEditorBarButtons:!0})}var H=a(M());var go="checkMarkContainer_c1den3f4",Be="container_c19h5h6d",fo="subtitle_s1n2m10t";var y=a(l()),Ao=()=>(0,y.jsx)(v.div,{layout:!0,className:go,children:(0,y.jsx)(De,{})});function xo(){let t=f(),[r,e]=(0,H.useState)(null),o=.4,n=(0,H.useCallback)(c=>{S("editor_bar_interaction",{page:"editor-bar-select-app-preference",id:c==="browser"?"editor-bar-select-app-preference-browser":"editor-bar-select-app-preference-app"}),localStorage.setItem(K,c),e(c)},[]),i=(0,H.useCallback)(()=>{t.navigationStore.setMenuOpen(!1)},[t]);return(0,y.jsx)(ie,{mode:"wait",children:(0,y.jsx)(v.div,{layoutId:"preference-container",transition:{duration:o,type:"spring",bounce:.2,delay:0},children:r?(0,y.jsx)(b,{logo:(0,y.jsx)(Ao,{}),title:"Preference Saved",subtitle:`From now on, the Edit Page button will open the ${r}`,buttons:(0,y.jsx)(j,{layoutId:"preference-buttons",duration:o,onClick:i,children:"Dismiss"}),customClassNames:{container:Be}}):(0,y.jsx)(b,{logo:(0,y.jsx)(v.img,{layout:!0,decoding:"async",width:36,src:G,alt:"Framer Logo"}),title:"Page Edit",subtitle:(0,y.jsxs)(y.Fragment,{children:["Do you prefer to edit your sites in the"," ",(0,y.jsx)("a",{href:"https://www.framer.com/downloads/",target:"_blank",children:"Framer App"})," ","or in the web browser?"]}),buttons:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(j,{layoutId:"preference-buttons",duration:o,onClick:()=>n("app"),children:"Framer App"}),(0,y.jsx)(j,{onClick:()=>n("browser"),children:"Web Browser"})]}),customClassNames:{container:Be,subtitle:fo}})},r?"saved":"select")})}var Y=a(l());function ho(){let t=f(),{access:r}=t.accessStore.useState(),{navigationState:e}=t.navigationStore.useState();switch(e){case"Guest":return(0,Y.jsx)(io,{});case"CookiePrompt":return(0,Y.jsx)(ro,{});case"Menu":return re(r.status==="success"),(0,Y.jsx)(uo,{projectSlug:r.data.projectSlug});case"SelectAppPreference":return(0,Y.jsx)(xo,{});case"Error":return null;case"NoAccess":return(0,Y.jsx)(yo,{});case"Canvas":return null;case"Initializing":return null;default:ne(e)}}var ve=a(M());var ko="wrapper_w1wtsf9k";var C=a(l());function Fo({children:t,open:r}){return(0,C.jsx)(ie,{children:r&&(0,C.jsx)(v.div,{initial:{marginRight:-4,opacity:0},animate:{marginRight:0,opacity:1},exit:{marginRight:-4,opacity:0},children:t})})}function _o(){let t=f(),{shouldRenderOnPageCanvas:r}=t.accessStore.useState(),{isMenuOpen:e,navigationState:o}=t.navigationStore.useState(),n=(0,ve.useRef)(null);(0,ve.useEffect)(()=>{n.current&&t.navigationStore.registerLayoutRef(n.current)},[t]);let i=()=>{t.navigationStore.isMouseHoveringMenu=!0},c=()=>{t.navigationStore.isMouseHoveringMenu=!1},m=async()=>{await t.navigationStore.toggleMenuOpen()};return(0,C.jsxs)(g,{direction:"row",alignItems:"center",gap:10,ref:n,className:ko,onMouseEnter:i,onMouseLeave:c,role:"presentation",children:[(0,C.jsx)(Fo,{open:e,children:(0,C.jsx)(ho,{})}),(0,C.jsx)(Ut,{hidden:o==="Initializing"||o==="Error",open:e,onClick:m}),r&&(0,C.jsx)(Vt,{hidden:o!=="Canvas"})]})}var be=a(l());async function Ks(t,r){let e=new R(r);await e.accessStore.set(t),Z("editorBarOnPageEditing")&&(e.sandboxStore.loadSandbox(),st(e.assetMap)),xt((0,be.jsx)(Oo.StrictMode,{children:(0,be.jsx)(ht.Provider,{value:e,children:(0,be.jsx)(_o,{})})}),document.getElementById("root"))}export{Ks as renderEditorBar};
//# sourceMappingURL=https://app.framerstatic.com/render-NXC6T57W.mjs.map
